<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menedżer Zakładek</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* General styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #e0eafc, #cfdef3); /* Very light blue gradient */
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better content flow */
        }

        /* Splash Screen Styles */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Darker overlay */
            display: flex;
            flex-direction: column; /* Allow content to stack */
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.6s ease-out; /* Slightly slower fade out transition */
            pointer-events: auto; /* Initially allow pointer events */
        }

        .splash-screen.fade-out {
            opacity: 0;
            pointer-events: none; /* Disable interactions after fade out */
        }

        .splash-message {
            font-size: 2.5em; /* Slightly larger font size for idioms */
            font-weight: 700;
            color: #ffffff; /* Domyślny kolor dla całego komunikatu */
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.4); /* Stronger shadow */
            opacity: 0;
            animation: message-fade-in 1.2s ease-out forwards; /* Slower message fade in */
            text-align: center;
            padding: 0 25px; /* More padding */
            line-height: 1.3;
        }

        .splash-message .icon {
            font-size: 1.3em; /* Slightly larger emoji */
            margin-right: 12px;
        }

        .splash-message .original-text {
            color: #FFFFFF; /* Wyraźny biały kolor dla oryginalnego tekstu */
            font-weight: 800; /* Pogrubienie dla lepszej widoczności */
        }

        .splash-message .translation-text {
            color: #E0F7FA; /* Lighter blue for translation */
            font-weight: 500; /* Medium weight */
            display: block; /* New line for polish translation */
            margin-top: 10px;
            font-size: 0.8em; /* Smaller for translation */
        }

        /* Main Content Fade In */
        .main-content-wrapper {
            opacity: 0;
            transition: opacity 0.7s ease-in; /* Slower fade in */
            width: 100%; /* Ensure it takes full width */
            max-width: 1000px; /* Match container max-width */
        }

        .main-content-wrapper.show {
            opacity: 1;
        }

        @keyframes message-fade-in {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .container {
            width: 100%; /* Use 100% width within its parent */
            margin: 20px auto;
            background: #ffffff;
            border-radius: 16px; /* More rounded corners */
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1); /* Softer, larger shadow */
            padding: 35px; /* More padding */
            overflow: hidden; /* Ensure content stays within bounds */
        }

        .header {
            text-align: center;
            padding-bottom: 30px; /* More padding */
            margin-bottom: 35px; /* More margin */
            border-bottom: 1px solid #e0e0e0;
        }

        .header h1 {
            font-size: 3em; /* Larger heading */
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 12px;
            animation: text-fade-in 1s ease-out forwards; /* New animation for header */
            cursor: pointer; /* Add cursor pointer to indicate clickability */
        }

        .header h1:hover {
            text-decoration: underline; /* Underline on hover */
        }

        .header p {
            font-size: 1.15em; /* Slightly larger text */
            color: #7f8c8d;
            animation: text-fade-in 1.2s ease-out forwards 0.2s; /* Delayed animation */
        }

        @keyframes text-fade-in {
            0% { opacity: 0; transform: translateY(10px); }
            100% { transform: translateY(0); }
        }

        /* Search Bar Styles */
        .search-bar-container {
            margin-bottom: 35px; /* More margin */
            padding: 18px; /* More padding */
            background: #ffffff;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07); /* Softer shadow */
            display: flex;
            align-items: center;
            gap: 15px; /* More space */
            transition: box-shadow 0.3s ease;
        }

        .search-bar-container:focus-within {
            box-shadow: 0 6px 20px rgba(41, 128, 185, 0.25); /* Stronger shadow on focus */
        }

        .search-input {
            flex-grow: 1;
            padding: 12px 20px; /* More padding */
            border: 1px solid #ddd; /* Lighter border */
            border-radius: 10px; /* More rounded corners */
            font-size: 1.05em; /* Slightly larger font */
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .search-input:focus {
            border-color: #5dade2; /* Lighter blue on focus */
            box-shadow: 0 0 8px rgba(93, 173, 226, 0.4); /* Softer glow */
        }

        /* Quick Access Section Styles */
        .quick-access-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px; /* More space */
            margin-bottom: 45px; /* More margin */
            padding: 25px; /* More padding */
            background: #eef5fc; /* Lighter background for quick access */
            border-radius: 14px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); /* Subtle shadow */
        }

        .quick-access-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90px; /* Larger size */
            height: 90px; /* Larger size */
            background: #ffffff;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); /* Softer shadow */
            transition: transform 0.25s ease, box-shadow 0.25s ease, background-color 0.25s ease;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            color: #333;
            position: relative; /* For potential future animations */
            overflow: hidden; /* Hide overflow for icon scaling */
        }

        .quick-access-item:hover {
            transform: translateY(-7px) scale(1.05); /* More pronounced lift and scale */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
            background-color: #f0f8ff; /* Very light blue on hover */
        }

        .quick-access-icon {
            font-size: 2.5em; /* Larger icon size */
            margin-bottom: 8px;
            width: 45px; /* Larger favicon size */
            height: 45px; /* Larger favicon size */
            object-fit: contain;
            transition: transform 0.25s ease;
        }
        .quick-access-item:hover .quick-access-icon {
            transform: scale(1.1); /* Subtle icon zoom on hover */
        }

        .quick-access-title {
            font-size: 0.85em; /* Slightly larger text */
            font-weight: 600;
            color: #555;
        }

        .category-section {
            margin-bottom: 30px;
            padding: 25px;
            border-radius: 16px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06); /* Softer shadow */
            transition: background-color 0.3s ease;
        }

        .category-section h2 {
            font-size: 2.2em; /* Larger heading */
            color: #2c3e50;
            margin-bottom: 25px; /* More margin */
            display: flex;
            align-items: center;
            gap: 12px; /* More space */
            padding-bottom: 12px; /* More padding */
            border-bottom: 1px solid rgba(0,0,0,0.08); /* Lighter border */
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .category-section h2:hover {
            color: #3498db; /* Blue on hover */
        }

        .category-section h2::after {
            content: '▼';
            margin-left: auto;
            transition: transform 0.3s ease;
            font-size: 0.8em; /* Smaller arrow */
            color: #7f8c8d;
        }

        .category-section.open h2::after {
            content: '▲';
            transform: rotate(0deg);
        }

        .category-section ul {
            list-style: none;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-out; /* Slower, smoother transition */
        }

        .category-section.open ul {
            max-height: 1500px; /* Increased value to accommodate more content */
        }

        .category-section ul li {
            margin-bottom: 15px; /* More margin */
            background: rgba(255, 255, 255, 0.85); /* Slightly less transparent */
            padding: 15px 20px; /* More padding */
            border-radius: 10px; /* More rounded corners */
            transition: background-color 0.2s ease, transform 0.1s ease;
            display: flex;
            align-items: center;
            gap: 15px; /* More space */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04); /* Subtle shadow */
        }

        .category-section ul li:hover {
            background-color: rgba(255, 255, 255, 0.98); /* Almost opaque on hover */
            transform: translateX(5px); /* Subtle slide effect */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Slightly stronger shadow */
        }

        .category-section ul li .bookmark-link-content {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .category-section ul li a {
            text-decoration: none;
            color: #34495e;
            font-size: 1.2em; /* Larger font */
            font-weight: 600;
            display: block;
            word-wrap: break-word;
            transition: color 0.2s ease;
        }

        .category-section ul li a:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        .category-section ul li .bookmark-description {
            font-size: 0.95em; /* Slightly larger */
            color: #7f8c8d;
            margin-top: 6px; /* More margin */
            line-height: 1.4;
        }

        /* Favicon in category list */
        .category-favicon {
            width: 28px; /* Larger favicon */
            height: 28px; /* Larger favicon */
            object-fit: contain;
            flex-shrink: 0;
        }

        /* No results message */
        .no-results-message {
            text-align: center;
            padding: 40px; /* More padding */
            font-size: 1.3em; /* Larger font */
            color: #7f8c8d;
            background: #f8f9fa;
            border-radius: 12px;
            margin-top: 40px; /* More margin */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .no-results-message a {
            color: #2980b9;
            text-decoration: none;
            font-weight: 700; /* Bolder */
            transition: color 0.2s ease;
        }

        .no-results-message a:hover {
            text-decoration: underline;
            color: #3498db;
        }

        /* Bounce effect for search results */
        @keyframes bounce-in {
            0% { transform: scale(0.9); opacity: 0; }
            50% { transform: scale(1.03); opacity: 1; } /* Slightly less bounce */
            100% { transform: scale(1); }
        }

        .category-section ul li.search-result-bounce {
            animation: bounce-in 0.4s ease-out; /* Slightly faster bounce */
        }

        /* Summary Button Styles */
        .summary-button {
            background-color: #3498db; /* Blue button */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 0.85em;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            margin-left: auto; /* Push to the right */
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap; /* Prevent text wrapping */
        }

        .summary-button:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
        }

        .summary-button:active {
            transform: translateY(0);
        }

        .summary-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease-out;
            pointer-events: none; /* Initially no pointer events */
        }

        .modal-overlay.open {
            opacity: 1;
            pointer-events: auto; /* Enable pointer events when open */
        }

        .modal-content {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 90%;
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            position: relative;
        }

        .modal-overlay.open .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .modal-header h3 {
            font-size: 1.8em;
            color: #2c3e50;
            margin: 0;
        }

        .modal-close-button {
            background: none;
            border: none;
            font-size: 1.8em;
            color: #7f8c8d;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .modal-close-button:hover {
            color: #333;
        }

        .modal-body {
            font-size: 1.1em;
            color: #555;
            line-height: 1.6;
            max-height: 300px; /* Limit height for scroll */
            overflow-y: auto; /* Enable scrolling */
            padding-right: 10px; /* Space for scrollbar */
        }

        .modal-body p {
            margin-bottom: 10px;
        }

        .modal-body.loading {
            text-align: center;
            font-style: italic;
            color: #888;
        }

        .modal-body.error {
            color: #e74c3c;
            font-weight: 600;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            .container {
                padding: 25px;
                margin: 15px auto;
            }
            .header h1 {
                font-size: 2.5em;
            }
            .header p {
                font-size: 1em;
            }
            .quick-access-item {
                width: 80px;
                height: 80px;
            }
            .quick-access-icon {
                font-size: 2em;
                width: 40px;
                height: 40px;
            }
            .quick-access-title {
                font-size: 0.75em;
            }
            .category-section h2 {
                font-size: 2em;
            }
            .category-section ul li {
                padding: 12px 15px;
                gap: 10px;
                flex-wrap: wrap; /* Allow buttons to wrap */
            }
            .category-section ul li a {
                font-size: 1.05em;
            }
            .category-favicon {
                width: 24px;
                height: 24px;
            }
            .no-results-message {
                padding: 25px;
                font-size: 1.1em;
            }
            .modal-content {
                padding: 20px;
                width: 95%;
            }
            .modal-header h3 {
                font-size: 1.5em;
            }
            .modal-close-button {
                font-size: 1.5em;
            }
            .modal-body {
                font-size: 1em;
            }
            .summary-button {
                margin-left: 0; /* Remove left margin for better wrapping */
                margin-top: 10px; /* Add top margin if wrapped */
                width: 100%; /* Make buttons full width when wrapped */
                justify-content: center; /* Center content in full-width buttons */
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
                margin: 10px auto;
            }
            .header h1 {
                font-size: 2em;
            }
            .header p {
                font-size: 0.9em;
            }
            .quick-access-item {
                width: 70px;
                height: 70px;
            }
            .quick-access-icon {
                font-size: 1.8em;
                width: 35px;
                height: 35px;
            }
            .quick-access-title {
                font-size: 0.65em;
            }
            .category-section h2 {
                font-size: 1.6em;
            }
            .category-section ul li {
                padding: 10px 12px;
            }
            .category-section ul li a {
                font-size: 0.95em;
            }
            .category-favicon {
                width: 20px;
                height: 20px;
            }
            .no-results-message {
                padding: 20px;
                font-size: 1em;
            }
            .summary-button {
                padding: 6px 10px;
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>

    <div id="splash-screen" class="splash-screen">
        <div class="splash-message"></div>
    </div>

    <div id="main-content-wrapper" class="main-content-wrapper">
        <div class="container">
            <div class="header">
                <h1 id="greeting-header"></h1>
                <div class="weather-widget-container" style="margin-bottom: 20px;">
                    <a class="weatherwidget-io" href="https://forecast7.com/pl/52d3421d24/wolomin/" data-label_1="WOŁOMIN" data-icons="Climacons Animated" data-mode="Forecast" data-days="3" data-theme="weather_one">WOŁOMIN</a>
                </div>
                <p>Prosty i przejrzysty menedżer Twoich ulubionych stron.</p>
            </div>

            <div class="search-bar-container">
                <input type="text" id="search-input" placeholder="Wyszukaj zakładki...">
            </div>

            <div class="quick-access-section" id="quick-access-section"></div>

            <div id="bookmark-categories-section"></div>

            <div id="no-results-message" class="no-results-message" style="display: none;"></div>
        </div>
    </div>

    <div id="summary-modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="summary-modal-title"></h3>
                <button id="summary-modal-close-button" class="modal-close-button">×</button>
            </div>
            <div id="summary-modal-body" class="modal-body"></div>
        </div>
    </div>

    <script>
        // Helper function to get favicon URL
        function getFaviconUrl(url) {
            try {
                if (url && url !== '#') {
                    const domain = new URL(url).hostname;
                    return `https://www.google.com/s2/favicons?domain=${domain}&sz=64`;
                }
                return null;
            } catch (error) {
                console.error("Invalid URL for favicon:", url, error);
                return null;
            }
        }

        // Bookmark Data (simplified for direct use, assuming it's parsed from HTML file)
        const allBookmarksData = [
            { folder: "Edukacja", title: "Ocena Efektywności Pomocy Psychologiczno-Pedagogicznej", url: "https://pedagogika-specjalna.edu.pl/warsztat-pracy/ocena-efektywnosci-udzielanej-pomocy-psychologiczno-pedagogicznej/", description: "Artykuł dotyczący oceny efektywności pomocy psychologiczno-pedagogicznej." },
            { folder: "Edukacja", title: "Podstawa Programowa Kształcenia Ogólnego (Szkoły Podstawowe)", url: "https://www.gov.pl/web/edukacja/podstawa-programowa-ksztalcenia-ogolnego-dla-szkol-podstawowych", description: "Oficjalna strona z podstawą programową kształcenia ogólnego dla szkół podstawowych." },
            { folder: "Rozrywka", title: "YouTube - Platforma Wideo", url: "https://www.youtube.com/", description: "Platforma wideo YouTube." },
            { folder: "Hobby", title: "Blog Tinas Blumenwiese (Rękodzieło)", url: "https://tinasblumenwiese.com/", description: "Blog o rękodziele i kreatywności." },
            { folder: "Poczta", title: "Onet Poczta - Skrzynka Odbiorcza", url: "https://poczta.onet.pl/", description: "Poczta elektroniczna Onet." },
            { folder: "Zakupy", title: "Allegro - Platforma Zakupowa", url: "https://allegro.pl/", description: "Popularna platforma zakupowa." },
            { folder: "Poczta", title: "WP Poczta - Logowanie", url: "https://poczta.wp.pl/", description: "Poczta elektroniczna WP." },
            { folder: "Zdrowie", title: "Contour Diabetes - Zarządzanie Cukrzycą", url: "https://www.contourplusone.pl/", description: "Strona produktu do zarządzania cukrzycą." },
            { folder: "Hobby", title: "Pinterest - Odkrywaj Pomysły", url: "https://pl.pinterest.com/", description: "Platforma do odkrywania i zapisywania pomysłów." },
            { folder: "Finanse", title: "Bank Santander - Logowanie Online", url: "https://www.centrum24.pl/", description: "Logowanie do bankowości internetowej Santander." },
            { folder: "Zakupy", title: "PAYBACK Bonprix - Sklep Online", url: "https://www.payback.pl/sklepy-online/bonprix", description: "Strona Payback dla zakupów w Bonprix." },
            { folder: "Zakupy", title: "PAYBACK Sklepy Online - Lista", url: "https://www.payback.pl/sklepy-online", description: "Lista sklepów online współpracujących z Payback." },
            { folder: "Administracja", title: "ZUS - Raporty Informacyjne", url: "https://www.zus.pl/portal/obszar-ubezpieczonego.npi#KUB0025", description: "Raporty informacyjne z ZUS." },
            { folder: "Rozrywka", title: "Audioteka - Moja Półka z Audiobookami", url: "https://audioteka.com/pl/my-shelf", description: "Moja półka z audiobookami na Audioteka.com." },
            { folder: "Rozrywka", title: "Audioteka - Subskrypcja", url: "https://promo.audioteka.com/pl/subscribe/code#login", description: "Strona subskrypcji Audioteka." },
            { folder: "Administracja", title: "ZUS - Logowanie i Rejestracja", url: "https://www.zus.pl/portal/logowanie.npi", description: "Strona logowania i rejestracji do portalu ZUS." },
            { folder: "Administracja", title: "Twój e-PIT (Podatki.gov.pl)", url: "https://www.podatki.gov.pl/pit/twoj-e-pit/", description: "Serwis Twój e-PIT na gov.pl." },
            { folder: "Zdrowie", title: "NFZ - Przegląd Skierowań", url: "https://skierowania.nfz.gov.pl/ap-przegl-skier/servlet/skierowania/show_app", description: "Przeglądarka skierowań na leczenie uzdrowiskowe NFZ." },
            { folder: "Poczta", title: "Gmail - Skrzynka Odbiorcza", url: "https://mail.google.com/", description: "Skrzynka odbiorcza Gmail." },
            { folder: "Filmy i TV", title: "FilmPolski.pl - Filmoteka", url: "http://filmpolski.pl/", description: "Filmoteka polska." },
            { folder: "Filmy i TV", title: "Filmy Online CDA - Darmowe HD", url: "https://cda-filmy.online/", description: "Filmy online w HD za darmo." },
            { folder: "Filmy i TV", title: "Horizon TV - Oglądaj TV Online", url: "https://www.horizon.tv/pl_pl/tv/ogladaj-tv.html", description: "Oglądaj TV online na Horizon." },
            { folder: "Filmy i TV", title: "VOD.pl - Filmy i Seriale Online", url: "https://vod.pl/", description: "Filmy i seriale online VOD." },
            { folder: "Filmy i TV", title: "CDA - Społeczność Filmowa", url: "https://www.cda.pl/", description: "Społeczność cda.pl." },
            { folder: "Filmy i TV", title: "PLAY NOW - Serwis Streamingowy", url: "https://playnow.pl/", description: "Serwis streamingowy PLAY NOW." },
            { folder: "Filmy i TV", title: "Film w Szkole - Filmy Edukacyjne", url: "https://filmwszkole.pl/filmy/", description: "Filmy edukacyjne dla szkół." },
            { folder: "Filmy i TV", title: "Rakuten TV - Najpopularniejsze Publikacje", url: "https://rakuten.tv/pl/", description: "Najpopularniejsze publikacje na Rakuten TV." },
            { folder: "Filmy i TV", title: "TVP Repetytorium Maturzysty (Gov.pl)", url: "https://www.gov.pl/web/edukacja/tvp-repetytorium-maturzysty", description: "Repetytorium maturalne TVP na gov.pl." },
            { folder: "Dzienniki Szkolne", title: "ZSE Wołomin - Strona Szkoły", url: "https://zsewolomin.edupage.org/", description: "Strona Zespołu Szkół Ekonomicznych w Wołominie." },
            { folder: "Dzienniki Szkolne", title: "Dziennik UONET+ (Powiat Wołomiński)", url: "https://uonetplus.vulcan.net.pl/powiatwolominski/", description: "Dziennik elektroniczny UONET+." },
            { folder: "Dzienniki Szkolne", title: "Brakujący wpis (Placeholder)", url: "https://example.com/placeholder", description: "Ten wpis był wcześniej niekompletny i został uzupełniony." },
            { folder: "Dzienniki Szkolne", title: "LIBRUS Szkoła - Portal Edukacyjny", url: "https://portal.librus.pl/szkola", description: "Portal LIBRUS Szkoła." },
            { folder: "Dzienniki Szkolne", title: "Ekonomik Wołomin - Facebook", url: "https://www.facebook.com/EkonomikWolomin/", description: "Strona Facebook ZSE w Wołominie." },
            { folder: "Narzędzia Online", title: "Microsoft Office Online - Strona Główna", url: "https://www.office.com/apps", description: "Strona główna Microsoft Office." },
            { folder: "Edukacja", title: "Nowa Era - Zaświadczenia ze Spotkań", url: "https://www.nowaera.pl/spotkania/zaswiadczenia", description: "Zaświadczenia o udziale w spotkaniach Nowa Era." },
            { folder: "Administracja", title: "COVID-19 - Aktualne Zasady i Ograniczenia", url: "https://www.gov.pl/web/koronawirus/aktualne-zasady-i-ograniczenia", description: "Aktualne zasady i ograniczenia związane z koronawirusem." },
            { folder: "Edukacja", title: "CEO.org.pl - Szkolenia i Projekty Edukacyjne", url: "https://ceo.org.pl/", description: "Szkolenia dla nauczycieli i projekty edukacyjne." },
            { folder: "Edukacja", title: "LearningApps.org - Interaktywne Moduły", url: "https://learningapps.org/", description: "Interaktywne moduły edukacyjne." },
            { folder: "Edukacja", title: "Epodręczniki.pl - Platforma z Podręcznikami", url: "https://epodreczniki.pl/", description: "Platforma z epodręcznikami." },
            { folder: "Dzienniki Szkolne", title: "SP4 Wołomin - Strona Szkoły Podstawowej", url: "http://zs4-wolomin.pl/", description: "Strona Szkoły Podstawowej nr 4 w Wołominie." },
            { folder: "Narzędzia Online", title: "Tłumacz Google - Wyszukiwarka", url: "https://translate.google.com/", description: "Wyszukiwarka Google dla tłumacza." },
            { folder: "Język Hiszpański", title: "Hiszpański - Lekcja 1 (Ang.pl)", url: "https://hiszpanski.ang.pl/nauka/lekcje_od_podstaw/czesc", description: "Pierwsza lekcja hiszpańskiego online." },
            { folder: "Język Hiszpański", title: "Hiszpański - Ćwiczenia (Ang.pl)", url: "https://hiszpanski.ang.pl/cwiczenia", description: "Ćwiczenia z hiszpańskiego online." },
            { folder: "Język Hiszpański", title: "Hiszpański - Czasowniki IR (Ang.pl)", url: "https://hiszpanski.ang.pl/gramatyka/czasownik/iii_grupa_koniugacji_ir", description: "Odmiana czasowników hiszpańskich - III grupa koniugacji." },
            { folder: "Język Hiszpański", title: "Hiszpański - Czasowniki Regularne (Ang.pl)", url: "https://hiszpanski.ang.pl/gramatyka/czasownik/wstep", description: "Wprowadzenie do hiszpańskich czasowników regularnych." },
            { folder: "Język Hiszpański", title: "Hiszpański - Gramatyka (Ang.pl)", url: "https://hiszpanski.ang.pl/gramatyka/spis-tresci", description: "Spis zagadnień gramatyki hiszpańskiej." },
            { folder: "Język Hiszpański", title: "Słówka Hiszpański: Szkoła (e-hiszpanski.com)", url: "http://e-hiszpanski.com/slownictwo/szkola.html", description: "Słówka z języka hiszpańskiego dotyczące szkoły." },
            { folder: "Język Hiszpański", title: "¡Español, por favor! (e-book do nauki)", url: "https://www.espanoleandocondoni.com/sklep/item/e-book/espanol-por-favor---version-electronica-e-book/", description: "E-book do nauki hiszpańskiego." },
            { folder: "Język Hiszpański", title: "Hiszpańska Salsa - Zdrowie (Blog)", url: "http://hiszpanskasalsa.blogspot.com/2016/08/la-salud-zdrowie-czii.html", description: "Blog o zdrowiu po hiszpańsku." },
            { folder: "Język Hiszpański", title: "Hiszpański - Przysłówki (Crib.pl)", url: "https://hiszpanski.crib.pl/adverbio-przyslowki-w-jezyku-hiszpanskim.html", description: "Przysłówki w języku hiszpańskim." },
            { folder: "Język Hiszpański", title: "Hiszpański - Liczebniki (Langusta.io)", url: "https://langusta.io/blog/liczebniki-hiszpanskie-maraton-jezykowy-dla-kazdego/", description: "Maraton językowy z liczebnikami hiszpańskimi." },
            { folder: "Język Hiszpański", title: "YouTube - Hiszpańska Wymowa G", url: "https://www.youtube.com/watch?v=example1", description: "Jak poprawnie wymawiać: guacamole, guitarra, gmail? | hiszpańska wymowa G." },
            { folder: "Język Hiszpański", title: "YouTube - Agata Uczy (Kanał Edukacyjny)", url: "https://www.youtube.com/watch?v=example2", description: "Kanał edukacyjny Agata uczy." },
            { folder: "Język Hiszpański", title: "YouTube - Planowanie Nauki Hiszpańskiego", url: "https://www.youtube.com/watch?v=example3", description: "Jak zaplanować naukę hiszpańskiego? | rozmowa z Klaudią z Optimismo Compartido." },
            { folder: "Język Hiszpański", title: "YouTube - Filmy o Hiszpańskiej Wymowie", url: "https://www.youtube.com/watch?v=example4", description: "Filmy o hiszpańskiej wymowa." },
            { folder: "Język Hiszpański", title: "YouTube - Kurs Hiszpańskiego dla Początkujących", url: "https://www.youtube.com/watch?v=example5", description: "Kurs hiszpańskiego dla początkujących." },
            { folder: "Język Hiszpański", title: "Hiszpański - Która Godzina (Speaklanguages.com)", url: "https://pl.speaklanguages.com/hiszpa%C5%84ski/zwroty/kt%C3%B3ra-godzina", description: "Określanie czasu po hiszpańsku." },
            { folder: "Język Hiszpański", title: "Hiszpański - Podawanie Godziny (Curso.pl)", url: "http://www.curso.pl/index.php?p=2_137", description: "Podawanie godziny w języku hiszpańskim." },
            { folder: "Język Hiszpański", title: "Hiszpański - Godziny Słówka (Crib.pl)", url: "https://hiszpanski.crib.pl/godziny-nauka-slowek-zwrotow.html", description: "Nauka słówek i zwrotów dotyczących godzin." },
            { folder: "Język Hiszpański", title: "Agata Uczy - Skarby (Materiały do nauki)", url: "https://www.agatauczy.pl/skarby/", description: "Materiały do nauki hiszpańskiego od Agaty uczy." },
            { folder: "Język Hiszpański", title: "Small Things with Great Heart (Dla Nauczycieli Języków)", url: "https://smallthingswithgreatheart.com/", description: "Materiały dla nauczycieli języków obcych." },
            { folder: "Geografia", title: "Geography Notes (PDF)", url: "https://kingproehl.files.wordpress.com/2014/08/geography_notes2.pdf", description: "Plik PDF z notatkami z geografii." },
            { folder: "Geografia", title: "60 Wirtualnych Budowli do Zwiedzania", url: "https://www.budowle.pl/tekst/60-budowli-ktore-mozesz-odwiedzic-wirtualnie-bez-wychodzenia-z-domu/546", description: "Lista 60 budowli do wirtualnego zwiedzania." },
            { folder: "Geografia", title: "Wirtualny Kraj - Spacery Panoramiczne", url: "https://www.wirtualnykraj.pl/", description: "Wirtualne spacery i wycieczki panoramiczne." },
            { folder: "Język Polski", title: "Tragizm Antygony (Wypracowanie)", url: "https://www.bryk.pl/wypracowania/jezyk-polski/antyk-i-biblia/14037-na-czym-polega-tragizm-antygony.html", description: "Wypracowanie na temat tragizmu Antygony." },
            { folder: "Język Polski", title: "Makbet - Bohaterowie (KLP.pl)", url: "https://klp.pl/makbet/a-7598-3.html", description: "Charakterystyka bohaterów Makbeta z KLP.pl." },
            { folder: "Język Polski", title: "Makbet - Analiza Lektury (Wypracowania.pl)", url: "https://wypracowania.pl/lektury/makbet-geneza-czas-i-miejsce-akcji-bohaterowie-interpretacja-i-motywy", description: "Analiza lektury Makbet." },
            { folder: "Język Polski", title: "Skład Zupy Czarownic w Makbecie (Analiza)", url: "https://fizjologus.wordpress.com/2012/05/31/sklad-zupy-czarownic-w-makbecie/", description: "Analiza składu zupy czarownic w Makbecie." },
            { folder: "Język Polski", title: "Makbet - Streszczenie i Analiza (KLP.pl)", url: "https://klp.pl/makbet/a-7598.html", description: "Streszczenie i analiza Makbeta z KLP.pl." },
            { folder: "Język Polski", title: "Antygona - Pytania i Odpowiedzi (AleKlasa)", url: "https://aleklasa.pl/gimnazjum/c267-lektury-do-egzaminu/antygona-sofoklesa", description: "Pytania i odpowiedzi dotyczące Antygony." },
            { folder: "Geografia", title: "Czynniki Klimatotwórcze (Geografia24.pl)", url: "http://geografia24.pl/czynniki-klimatotworcze/", description: "Artykuł o czynnikach klimatotwórczych." },
            { folder: "Geografia", title: "Prognozowanie Pogody (Geografia24.pl)", url: "http://geografia24.pl/prognozowanie-pogody/", description: "Artykuł o prognozowaniu pogody." },
            { folder: "Filozofia", title: "Filozofie Starożytne (Sciaga.pl)", url: "https://sciaga.pl/tekst/57655-58-filozofie_starozytne", description: "Tekst o filozofiach starożytnych." },
            { folder: "Język Polski", title: "Co to są Neologizmy? (AleKlasa)", url: "https://aleklasa.pl/gimnazjum/c185-slowotworstwo/co-to-sa-neologizmy", description: "Definicja i przykłady neologizmów." },
            { folder: "Język Polski", title: "Neologizmy - Definicja i Przykłady (Bryk.pl)", url: "https://www.bryk.pl/wypracowania/jezyk-polski/materialy-do-matury/1010410-neologizmy-definicja-i-przykłady.html", description: "Definicja i przykłady neologizmów z Bryk.pl." },
            { folder: "Język Polski", title: "Neologizm - Prosty Polski (Definicja i Przykłady)", url: "https://prostypolski.pl/neologizm-definicja-przyklady-neologizmow/", description: "Definicja i przykłady neologizmów z Prosty Polski." },
            { folder: "Podróże", title: "Tatrzańska Świątynia Lodowa na Hrebienku", url: "https://gorydlaciebie.pl/tatrzanska-swiatynia-lodowa-na-hrebienku/", description: "Atrakcja słowackich Tatr." },
            { folder: "Język Polski", title: "Laura i Filon (Audiobook na YouTube)", url: "https://www.youtube.com/watch?v=example6", description: "Audiobook 'Laura i Filon' Franciszka Karpińskiego." },
            { folder: "Rozwój Osobisty", title: "Umiejętności Społeczne - Program Zajęć Rewalidacyjnych", url: "https://autyzm.life/2020/01/17/umiejetnosci-spoleczne-program-zajec-rewalidacyjnych/", description: "Program zajęć rewalidacyjnych dotyczących umiejętności społecznych." },
            { folder: "Historia", title: "Niccolo Paganini (PDF)", url: "https://www.sm1st.wroclaw.pl/wp-content/uploads/2020/05/1.Niccolo-Paganini-180-rocznica-s%CC%81mierci.pdf", description: "Plik PDF o Niccolo Paganinim." },
            { folder: "Rozrywka", title: "Kultowe Pary Filmowe (Ofeminin.pl)", url: "https://www.ofeminin.pl/milosc/zwiazek/12-kultowych-par-z-najwiekszych-kinowych-romansow/hyyxvms", description: "12 kultowych par z największych kinowych romansów." }
        ];

        // Data for quick access section
        const quickAccessLinks = [
            { title: "Onet Poczta", url: "https://poczta.onet.pl/" },
            { title: "MS Teams", url: "https://teams.microsoft.com/" },
            { title: "YouTube", url: "https://www.youtube.com/" },
            { title: "Allegro", url: "https://allegro.pl/" },
            { title: "Letyshops", url: "https://letyshops.com/pl/" },
            { title: "AliExpress", url: "https://www.aliexpress.com/" },
            { title: "Instagram", url: "https://www.instagram.com/" },
            { title: "Messenger", url: "https://www.messenger.com/" },
            { title: "WhatsApp", url: "https://web.whatsapp.com/" },
            { title: "Dodaj", url: "#", icon: "➕" },
        ];

        // List of personalized greetings in five languages with Polish translation and emoji
        const allGreetingsForHeader = [
            // Polish greetings
            { emoji: "🌿", text: "Cześć Viola! Jak się mają Twoje pelargonie?", languageCode: "pl", polishTranslation: "Cześć Viola! Jak się mają Twoje pelargonie?" },
            { emoji: "☀️", text: "Witaj w słoneczny dzień! Gotowa na ogród?", languageCode: "pl", polishTranslation: "Witaj w słoneczny dzień! Gotowa na ogród?" },
            { emoji: "🧵", text: "Hej Viola! Dziergasz dziś coś pięknego?", languageCode: "pl", polishTranslation: "Hej Viola! Dziergasz dziś coś pięknego?" },
            { emoji: "🪴", text: "Dzień dobry, kochana! Kawa na działce smakuje najlepiej.", languageCode: "pl", polishTranslation: "Dzień dobry, kochana! Kawa na działce smakuje najlepiej." },
            { emoji: "🍅", text: "Viola, jak tam warzywnik?", languageCode: "pl", polishTranslation: "Viola, jak tam warzywnik?" },
            { emoji: "🌻", text: "Halo! Słońce świeci, czas na relaks.", languageCode: "pl", polishTranslation: "Halo! Słońce świeci, czas na relaks." },
            { emoji: "🌼", text: "Siemanko, Viola! Co nowego w ogrodzie?", languageCode: "pl", polishTranslation: "Siemanko, Viola! Co nowego w ogrodzie?" },
            { emoji: "☀️", text: "Uśmiechnięte dzień dobry!", languageCode: "pl", polishTranslation: "Uśmiechnięte dzień dobry!" },
            { emoji: "🛋️", text: "Hejka! Może dziś trochę lenistwa?", languageCode: "pl", polishTranslation: "Hejka! Może dziś trochę lenistwa?" },
            { emoji: "🌸", text: "Viola, witaj wśród kwiatów!", languageCode: "pl", polishTranslation: "Viola, witaj wśród kwiatów!" },
            { emoji: "🧶", text: "Cześć! Masz dziś czas na szydełko?", languageCode: "pl", polishTranslation: "Cześć! Masz dziś czas na szydełko?" },
            { emoji: "☀️", text: "Słoneczne pozdrowienia z działki!", languageCode: "pl", polishTranslation: "Słoneczne pozdrowienia z działki!" },
            { emoji: "✂️", text: "Dzień dobry, artystko! Co dziś tworzysz?", languageCode: "pl", polishTranslation: "Dzień dobry, artystko! Co dziś tworzysz?" },
            { emoji: "🧤", text: "Cześć Viola! Rękawiczki ogrodowe w dłoń!", languageCode: "pl", polishTranslation: "Cześć Viola! Rękawiczki ogrodowe w dłoń!" },
            { emoji: "🌺", text: "Jak tam Twoje bratki?", languageCode: "pl", polishTranslation: "Jak tam Twoje bratki?" },
            { emoji: "🛏️", text: "Miłego poranka, Viola!", languageCode: "pl", polishTranslation: "Miłego poranka, Viola!" },
            { emoji: "🌤️", text: "Hej! Dziś idealny dzień na odpoczynek", languageCode: "pl", polishTranslation: "Hej! Dziś idealny dzień na odpoczynek" },
            { emoji: "🌾", text: "Viola, gotowa na dzień w ogrodzie?", languageCode: "pl", polishTranslation: "Viola, gotowa na dzień w ogrodzie?" },
            { emoji: "👑🪴", text: "Witaj, królowo działki!", languageCode: "pl", polishTranslation: "Witaj, królowo działki!" },
            { emoji: "☕", text: "Cześć! Zasłużona przerwa?", languageCode: "pl", polishTranslation: "Cześć! Zasłużona przerwa?" },

            // Italian greetings
            { emoji: "🌼", text: "Ciao Viola! Come stanno i tuoi fiori oggi?", languageCode: "it", polishTranslation: "Cześć Viola! Jak się mają Twoje kwiaty dzisiaj?" },
            { emoji: "☕", text: "Buongiorno! Hai già bevuto il caffè sul terrazzo?", languageCode: "it", polishTranslation: "Dzień dobry! Piłaś już kawę na tarasie?" },
            { emoji: "🌞", text: "Viola, che bella giornata per il giardinaggio!", languageCode: "it", polishTranslation: "Viola, co za piękny dzień na ogrodnictwo!" },
            { emoji: "🧶", text: "Salve! Stai creando qualcosa di nuovo?", languageCode: "it", polishTranslation: "Witaj! Tworzysz coś nowego?" },
            { emoji: "🌿", text: "Ehi Viola! Il basilico cresce bene?", languageCode: "it", polishTranslation: "Hej Viola! Bazylia dobrze rośnie?" },
            { emoji: "🪴", text: "Bentornata nel tuo angolo verde!", languageCode: "it", polishTranslation: "Witaj z powrotem w swoim zielonym zakątku!" },
            { emoji: "🛋️", text: "Ciao! Ti meriti un po’ di relax oggi", languageCode: "it", polishTranslation: "Cześć! Zasługujesz dziś na trochę relaksu" },
            { emoji: "🍅", text: "Viola, come va il tuo orto?", languageCode: "it", polishTranslation: "Viola, jak tam Twój ogródek warzywny?" },
            { emoji: "☀️", text: "Ciao bella! Oggi il sole è tutto tuo!", languageCode: "it", polishTranslation: "Cześć piękna! Dziś słońce jest tylko dla Ciebie!" },
            { emoji: "✂️", text: "Viola! Hai trovato tempo per il tuo hobby oggi?", languageCode: "it", polishTranslation: "Viola! Znalazłaś dziś czas na swoje hobby?" },
            { emoji: "🌻", text: "Buon pomeriggio! Fiori, tè i silenzio – giornata perfetta.", languageCode: "it", polishTranslation: "Dzień dobry! Kwiaty, herbata i cisza – idealny dzień." },
            { emoji: "🧵", text: "Hey! Dov’è il tuo uncinetto oggi?", languageCode: "it", polishTranslation: "Hej! Gdzie dziś Twój szydełko?" },
            { emoji: "👑", text: "Ciao Viola, regina del giardino!", languageCode: "it", polishTranslation: "Cześć Viola, królowo ogrodu!" },
            { emoji: "🌸", text: "Pronta per una passeggiata tra i tuoi fiori?", languageCode: "it", polishTranslation: "Gotowa na spacer wśród Twoich kwiatów?" },
            { emoji: "🌤️", text: "Che ne dici di una pausa sotto il sole?", languageCode: "it", polishTranslation: "Co powiesz na przerwę w słońcu?" },
            { emoji: "🌱", text: "Ciao carissima! Oggi tutto cresce!", languageCode: "it", polishTranslation: "Cześć najdroższa! Dziś wszystko rośnie!" },
            { emoji: "🌿🤗", text: "Un abbraccio verde per te!", languageCode: "it", polishTranslation: "Zielony uścisk dla Ciebie!" },
            { emoji: "🎨", text: "Viola, tempo per il tuo angolo creativo?", languageCode: "it", polishTranslation: "Viola, czas na Twój kreatywny kącik?" },
            { emoji: "🌺", text: "Buondì! Hai già annaffiato i gerani?", languageCode: "it", polishTranslation: "Dzień dobry! Podlałaś już pelargonie?" },
            { emoji: "🛋️", text: "Ciao! Una giornata serena ti aspetta", languageCode: "it", polishTranslation: "Cześć! Czeka Cię spokojny dzień" },

            // Spanish greetings
            { emoji: "🌞", text: "¡Hola Viola! ¿Cómo va tu jardín hoy?", languageCode: "es", polishTranslation: "Cześć Viola! Jak tam Twój ogród dzisiaj?" },
            { emoji: "👑🪴", text: "¡Buenos días, reina de la huerta!", languageCode: "es", polishTranslation: "Dzień dobry, królowo warzywnika!" },
            { emoji: "🧶", text: "¡Viola! ¿Ya tejiste algo nuevo?", languageCode: "es", polishTranslation: "Viola! Szydełkowałaś już coś nowego?" },
            { emoji: "🛋️", text: "¡Qué día tan lindo para relajarte!", languageCode: "es", polishTranslation: "Co za piękny dzień na relaks!" },
            { emoji: "🍅", text: "¡Hey! ¿Crecen bien tus tomates?", languageCode: "es", polishTranslation: "Hej! Twoje pomidory dobrze rosną?" },
            { emoji: "✂️🌿", text: "¡Hola, artista de la tierra!", languageCode: "es", polishTranslation: "Cześć, artystko ziemi!" },
            { emoji: "🌼", text: "¡Viola, bienvenida al paraíso verde!", languageCode: "es", polishTranslation: "Viola, witaj w zielonym raju!" },
            { emoji: "☕☀️", text: "¿Tomamos un cafecito bajo el sol?", languageCode: "es", polishTranslation: "Napijemy się kawy w słońcu?" },
            { emoji: "🌸", text: "¡Buenas! ¿Ya regaste tus flores?", languageCode: "es", polishTranslation: "Dzień dobry! Podlałaś już swoje kwiaty?" },
            { emoji: "🎨", text: "¡Viola! Hoy es un día para ti y tu creatividad", languageCode: "es", polishTranslation: "Viola! Dziś jest dzień dla Ciebie i Twojej kreatywności" },
            { emoji: "🧤", text: "¡Hola! ¿Lista para la tierra?", languageCode: "es", polishTranslation: "Cześć! Gotowa na ziemię?" },
            { emoji: "🤗🌞", text: "¡Un abrazo soleado para ti!", languageCode: "es", polishTranslation: "Słoneczny uścisk dla Ciebie!" },
            { emoji: "🌺", text: "¿Cómo está tu rincón favorito?", languageCode: "es", polishTranslation: "Jak tam Twój ulubiony zakątek?" },
            { emoji: "🌻", text: "¡Buenos días! Tu jardín te espera", languageCode: "es", polishTranslation: "Dzień dobry! Twój ogród na Ciebie czeka" },
            { emoji: "🛋️", text: "¡Viola! Hoy relájate y disfruta del sol", languageCode: "es", polishTranslation: "Viola! Dziś zrelaksuj się i ciesz słońcem" },
            { emoji: "🧵", text: "¿Y ese bordado? ¡Seguro que hermoso!", languageCode: "es", polishTranslation: "A ten haft? Na pewno piękny!" },
            { emoji: "🌾", text: "¡Hola hola! Tiempo para cosechar", languageCode: "es", polishTranslation: "Cześć cześć! Czas na zbiory" },
            { emoji: "🌿", text: "¡Saluditos! Tu jardín huele a primavera.", languageCode: "es", polishTranslation: "Pozdrowienia! Twój ogród pachnie wiosną." },
            { emoji: "🌱", text: "¡Qué día perfecto para plantar algo nuevo!", languageCode: "es", polishTranslation: "Co za idealny dzień na posadzenie czegoś nowego!" },
            { emoji: "😊💐", text: "¡Viola, una sonrisa con olor a lavanda!", languageCode: "es", polishTranslation: "Viola, uśmiech pachnący lawendą!" },

            // English greetings
            { emoji: "🌸", text: "Hey Viola! How’s your garden today?", languageCode: "en", polishTranslation: "Hej Viola! Jak tam Twój ogród dzisiaj?" },
            { emoji: "☀️", text: "Good morning, sunshine!", languageCode: "en", polishTranslation: "Dzień dobry, słoneczko!" },
            { emoji: "🛋️", text: "Viola, ready for some relaxing time?", languageCode: "en", polishTranslation: "Viola, gotowa na trochę relaksu?" },
            { emoji: "🧶", text: "Hello there! Knitting anything fun?", languageCode: "en", polishTranslation: "Witaj! Robisz na drutach coś fajnego?" },
            { emoji: "☕", text: "Hi! Tea break in the garden sounds perfect.", languageCode: "en", polishTranslation: "Cześć! Przerwa na herbatę w ogrodzie brzmi idealnie." },
            { emoji: "🌿", text: "What a great day to be outside!", languageCode: "en", polishTranslation: "Co za wspaniały dzień, żeby być na zewnątrz!" },
            { emoji: "🪴", text: "Hey! Your plants must love this weather.", languageCode: "en", polishTranslation: "Hej! Twoje rośliny muszą kochać tę pogodę." },
            { emoji: "🍅", text: "Viola, how’s the veggie patch doing?", languageCode: "en", polishTranslation: "Viola, jak tam warzywnik?" },
            { emoji: "🌼", text: "Morning vibes and flower smiles!", languageCode: "en", polishTranslation: "Poranne wibracje i uśmiechy kwiatów!" },
            { emoji: "🌞", text: "Hello Viola! The sun is calling", languageCode: "en", polishTranslation: "Witaj Viola! Słońce woła" },
            { emoji: "✂️", text: "Time for some stitching magic?", languageCode: "en", polishTranslation: "Czas na trochę magicznego szycia?" },
            { emoji: "🌱", text: "Hey you! Another green adventure awaits.", languageCode: "en", polishTranslation: "Hej Ty! Kolejna zielona przygoda czeka." },
            { emoji: "🌻", text: "Waving hello from the flower beds!", languageCode: "en", polishTranslation: "Macham z rabat kwiatowych!" },
            { emoji: "👑", text: "Rise and shine, Queen of the garden", languageCode: "en", polishTranslation: "Wstawaj i świeć, królowo ogrodu" },
            { emoji: "🛋️", text: "How about a cozy afternoon on the porch?", languageCode: "en", polishTranslation: "Co powiesz na przytulne popołudnie na werandzie?" },
            { emoji: "🌾", text: "Hi Viola! Let's get our hands dirty!", languageCode: "en", polishTranslation: "Cześć Viola! Pobrudźmy sobie ręce!" },
            { emoji: "🌺", text: "Viola, your blooms must look amazing today", languageCode: "en", polishTranslation: "Viola, Twoje kwiaty muszą dziś wyglądać niesamowicie" },
            { emoji: "🎨🧵", text: "Feeling crafty today?", languageCode: "en", polishTranslation: "Masz dziś ochotę na rękodzieło?" },
            { emoji: "🌤️", text: "Lovely weather for sowing seeds!", languageCode: "en", polishTranslation: "Urocza pogoda na sianie nasion!" },
            { emoji: "🌸", text: "Hello friend! Time to relax and create.", languageCode: "en", polishTranslation: "Witaj przyjaciółko! Czas na relaks i tworzenie." },

            // Russian greetings
            { emoji: "🌷", text: "Привет, Виола! Как поживает твой сад?", languageCode: "ru", polishTranslation: "Cześć, Viola! Jak tam Twój ogród?" },
            { emoji: "🌞", text: "Доброе утро! Сегодня идеальная погода.", languageCode: "ru", polishTranslation: "Dzień dobry! Dziś idealna pogoda." },
            { emoji: "🛋️", text: "Виола, пора отдохнуть!", languageCode: "ru", polishTranslation: "Viola, czas na odpoczynek!" },
            { emoji: "🧶", text: "Приветики! Вяжешь что-то новенькое?", languageCode: "ru", polishTranslation: "Cześć! Robisz na drutach coś nowego?" },
            { emoji: "🪴", text: "Здравствуй, хозяйка дачи!", languageCode: "ru", polishTranslation: "Witaj, gospodyni daczy!" },
            { emoji: "🌼", text: "Виола, поливала цветы сегодня?", languageCode: "ru", polishTranslation: "Viola, podlewałaś dziś kwiaty?" },
            { emoji: "☕🌿", text: "С добрым утром и чашкой чая", languageCode: "ru", polishTranslation: "Dzień dobry i filiżanka herbaty" },
            { emoji: "🌸", text: "Как дела в твоей оранжерее?", languageCode: "ru", polishTranslation: "Jak tam w Twojej oranżerii?" },
            { emoji: "✂️", text: "Виола, день для творчества!", languageCode: "ru", polishTranslation: "Viola, dzień na twórczość!" },
            { emoji: "🌤️", text: "Привет! Солнце улыбается тебе", languageCode: "ru", polishTranslation: "Cześć! Słońce się do Ciebie uśmiecha" },
            { emoji: "🍅", text: "Виола, собираешь урожай?", languageCode: "ru", polishTranslation: "Viola, zbierasz plony?" },
            { emoji: "👑🌺", text: "Привет, королева сада!", languageCode: "ru", polishTranslation: "Cześć, królowo ogrodu!" },
            { emoji: "🎨🧵", text: "Сегодня отличный день для вязания", languageCode: "ru", polishTranslation: "Dziś świetny dzień na robótki ręczne" },
            { emoji: "🌻", text: "Добрый день! Твои цветы пахнут весной", languageCode: "ru", polishTranslation: "Dzień dobry! Twoje kwiaty pachną wiosną" },
            { emoji: "🛋️", text: "Виола, пора насладиться тишиной", languageCode: "ru", polishTranslation: "Viola, czas na cieszenie się ciszą" },
            { emoji: "🌼", text: "Как настроение? Всё цветёт?", languageCode: "ru", polishTranslation: "Jak nastrój? Wszystko kwitnie?" },
            { emoji: "🌱", text: "Привет, твой огород ждёт тебя", languageCode: "ru", polishTranslation: "Cześć, Twój ogród czeka na Ciebie" },
            { emoji: "☀️", text: "Пусть день будет тёплым и солнечным", languageCode: "ru", polishTranslation: "Niech dzień będzie ciepły i słoneczny" },
            { emoji: "🤗", text: "Виола, сделай паузу – ты это заслужила", languageCode: "ru", polishTranslation: "Viola, zrób sobie przerwę – zasłużyłaś na to" },
            { emoji: "🌿👑", text: "Добро пожаловать в своё зелёное королевство!", languageCode: "ru", polishTranslation: "Witaj w swoim zielonym królestwie!" }
        ];

        const splashBackgrounds = [
            'linear-gradient(135deg, #a8dadc, #457b9d)', // Blue-Cyan
            'linear-gradient(135deg, #f8edeb, #fec89a)', // Peach-Orange
            'linear-gradient(135deg, #e0f7fa, #80deea)', // Light Blue-Turquoise
            'linear-gradient(135deg, #e8f5e9, #a5d6a7)', // Light Green-Green
            'linear-gradient(135deg, #f3e5f5, #ce93d8)', // Light Purple-Purple
            'linear-gradient(135deg, #fff3e0, #ffcc80)', // Light Orange-Deep Orange
            'linear-gradient(135deg, #ffebee, #ef9a9a)', // Light Red-Red
            'linear-gradient(135deg, #f0f4c3, #cddc39)', // Light Lime-Lime
            'linear-gradient(135deg, #D4E2F0, #A7C9ED)', // Soft Blue
            'linear-gradient(135deg, #F0E6D4, #EDC9A7)', // Warm Peach
            'linear-gradient(135deg, #E0F0E2, #A7EDC9)', // Mint Green
            'linear-gradient(135deg, #F0D4E6, #EDC9A7)', // Lavender Pink
            'linear-gradient(135deg, #E2F0D4, #C9EDC9)', // Pale Green
            'linear-gradient(135deg, #D4EAF0, #A7EDC9)', // Sky Blue
        ];

        const categoryColors = {
            "Edukacja": "#E0F7FA", // Light Cyan
            "Rozrywka": "#FFF3E0", // Light Orange
            "Hobby": "#E8F5F5",    // Light Green
            "Poczta": "#E3F2FD",   // Light Blue
            "Zakupy": "#FCE4EC",   // Light Pink
            "Zdrowie": "#F3E5F5",  // Light Purple
            "Finanse": "#FFFDE7",  // Light Yellow
            "Administracja": "#EFEBE9", // Light Brown
            "Filmy i TV": "#FFEBEE", // Lighter Red
            "Dzienniki Szkolne": "#F0F4C3", // Light Lime
            "Narzędzia Online": "#F5F5F5", // Light Grey
            "Język Hiszpański": "#E0F2F7", // Lighter Blue
            "Geografia": "#E6EE9C", // Lime Green
            "Język Polski": "#FFE0B2", // Orange
            "Filozofia": "#D1C4E9", // Purple
            "Podróże": "#C8E6C9", // Green
            "Rozwój Osobisty": "#B2EBF2", // Cyan
            "Historia": "#FBE9E7", // Peach
        };

        let groupedBookmarks = {};
        let openCategories = [];
        let summaryModalState = {
            isOpen: false,
            title: '',
            summary: '',
            loading: false,
            error: null,
        };

        // Function to get favicon URL
        function getFaviconUrl(url) {
            try {
                if (url && url !== '#') {
                    const domain = new URL(url).hostname;
                    return `https://www.google.com/s2/favicons?domain=${domain}&sz=64`;
                }
                return null;
            } catch (error) {
                console.error("Invalid URL for favicon:", url, error);
                return null;
            }
        }

        /**
         * Selects a random greeting from allGreetingsForHeader.
         * @returns {object} An object containing the formatted greeting text for display,
         * the text to be translated (original foreign phrase), and
         * its Polish translation to be copied.
         */
        function getDynamicGreeting() {
            const randomGreetingIndex = Math.floor(Math.random() * allGreetingsForHeader.length);
            const selectedGreeting = allGreetingsForHeader[randomGreetingIndex];

            // Display only the emoji and the original text of the greeting
            const displayGreetingText = `${selectedGreeting.emoji} ${selectedGreeting.text}`;
            // The original text to send to Google Translate
            const textToTranslate = selectedGreeting.text;
            // The Polish translation to copy to clipboard
            const polishTranslationToCopy = selectedGreeting.polishTranslation;

            return {
                displayGreeting: displayGreetingText,
                textToTranslate: textToTranslate,
                polishTranslationToCopy: polishTranslationToCopy
            };
        }

        // Function to group bookmarks by folder
        function groupBookmarksByFolder(bookmarks) {
            const grouped = {};
            bookmarks.forEach(bookmark => {
                const folderName = bookmark.folder;
                if (!grouped[folderName]) {
                    grouped[folderName] = [];
                }
                grouped[folderName].push(bookmark);
            });
            return grouped;
        }

        // Function to render quick access links
        function renderQuickAccessLinks() {
            const quickAccessSection = document.getElementById('quick-access-section');
            quickAccessSection.innerHTML = ''; // Clear previous content

            quickAccessLinks.forEach((link, index) => {
                const anchor = document.createElement('a');
                anchor.href = link.url;
                anchor.target = "_blank";
                anchor.rel = "noopener noreferrer";
                anchor.className = "quick-access-item";

                if (link.icon) {
                    const iconSpan = document.createElement('span');
                    iconSpan.className = "quick-access-icon";
                    iconSpan.textContent = link.icon;
                    anchor.appendChild(iconSpan);
                } else {
                    const img = document.createElement('img');
                    img.src = getFaviconUrl(link.url) || "https://placehold.co/40x40/cccccc/000000?text=?";
                    img.alt = link.title;
                    img.className = "quick-access-icon";
                    img.onerror = function() { this.onerror=null; this.src="https://placehold.co/40x40/cccccc/000000?text=?"; };
                    anchor.appendChild(img);
                }

                const titleDiv = document.createElement('div');
                titleDiv.className = "quick-access-title";
                titleDiv.textContent = link.title;
                anchor.appendChild(titleDiv);

                quickAccessSection.appendChild(anchor);
            });
        }

        // Function to render bookmark categories
        function renderBookmarkCategories(filteredBookmarks) {
            const categoriesSection = document.getElementById('bookmark-categories-section');
            categoriesSection.innerHTML = ''; // Clear previous content
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput.value.toLowerCase();
            const noResultsMessage = document.getElementById('no-results-message');

            if (Object.keys(filteredBookmarks).length === 0 && searchTerm) {
                noResultsMessage.style.display = 'block';
                noResultsMessage.innerHTML = `Brak wyników dla "${searchTerm}". <a href="https://www.google.com/search?q=${encodeURIComponent(searchTerm)}" target="_blank" rel="noopener noreferrer">Zapytaj Google :)</a>`;
                return;
            } else {
                noResultsMessage.style.display = 'none';
            }

            for (const folderName in filteredBookmarks) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = `category-section ${openCategories.includes(folderName) ? 'open' : ''}`;
                categoryDiv.style.backgroundColor = categoryColors[folderName] || '#F5F5F5';
                categoryDiv.setAttribute('data-folder', folderName);

                const h2 = document.createElement('h2');
                h2.textContent = `📁 ${folderName}`; // Default folder icon
                h2.onclick = () => toggleCategory(folderName);
                categoryDiv.appendChild(h2);

                const ul = document.createElement('ul');
                filteredBookmarks[folderName].forEach(bookmark => {
                    const li = document.createElement('li');
                    if (searchTerm) {
                        li.classList.add('search-result-bounce');
                    }

                    const img = document.createElement('img');
                    img.src = getFaviconUrl(bookmark.url) || "https://placehold.co/24x24/cccccc/000000?text=?";
                    img.alt = bookmark.title;
                    img.className = "category-favicon";
                    img.onerror = function() { this.onerror=null; this.src="https://placehold.co/24x24/cccccc/000000?text=?"; };
                    li.appendChild(img);

                    const contentDiv = document.createElement('div');
                    contentDiv.className = "bookmark-link-content";

                    const anchor = document.createElement('a');
                    anchor.href = bookmark.url;
                    anchor.target = "_blank";
                    anchor.rel = "noopener noreferrer";
                    anchor.textContent = bookmark.title;
                    contentDiv.appendChild(anchor);

                    if (bookmark.description) {
                        const descDiv = document.createElement('div');
                        descDiv.className = "bookmark-description";
                        descDiv.textContent = bookmark.description;
                        contentDiv.appendChild(descDiv);
                    }
                    li.appendChild(contentDiv);

                    const summaryButton = document.createElement('button');
                    summaryButton.className = "summary-button";
                    summaryButton.textContent = "✨ Podsumuj";
                    summaryButton.onclick = () => generateBookmarkSummary(bookmark.url, bookmark.title);
                    // Ensure the button is disabled when modal is loading
                    summaryButton.disabled = summaryModalState.loading;
                    li.appendChild(summaryButton);

                    ul.appendChild(li);
                });
                categoryDiv.appendChild(ul);
                categoriesSection.appendChild(categoryDiv);
            }
        }

        // Function to toggle category open/close state
        function toggleCategory(categoryName) {
            const index = openCategories.indexOf(categoryName);
            if (index > -1) {
                openCategories.splice(index, 1); // Remove if open
            } else {
                openCategories.push(categoryName); // Add if closed
            }
            renderBookmarkCategories(groupedBookmarks); // Re-render to apply changes
        }

        // Function to handle search input
        function handleSearch() {
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput.value.toLowerCase();

            const filteredRawBookmarks = allBookmarksData.filter(bookmark => {
                const titleMatch = bookmark.title && bookmark.title.toLowerCase().includes(searchTerm);
                const urlMatch = bookmark.url && bookmark.url.toLowerCase().includes(searchTerm);
                const descriptionMatch = bookmark.description && bookmark.description.toLowerCase().includes(searchTerm);
                return titleMatch || urlMatch || descriptionMatch;
            });

            groupedBookmarks = groupBookmarksByFolder(filteredRawBookmarks);

            if (searchTerm) {
                // Automatically open categories that contain search results
                openCategories = Object.keys(groupedBookmarks).filter(folderName =>
                    groupedBookmarks[folderName].length > 0
                );
            } else {
                // If search term is empty, collapse all categories
                openCategories = [];
            }
            renderBookmarkCategories(groupedBookmarks);
        }

        // Function to generate summary using Gemini API
        async function generateBookmarkSummary(url, title) {
            const modalOverlay = document.getElementById('summary-modal-overlay');
            const modalTitle = document.getElementById('summary-modal-title');
            const modalBody = document.getElementById('summary-modal-body');

            summaryModalState = {
                isOpen: true,
                title: `Streszczenie: ${title}`,
                summary: 'Generowanie streszczenia...',
                loading: true,
                error: null,
            };
            modalOverlay.classList.add('open');
            modalTitle.textContent = summaryModalState.title;
            modalBody.innerHTML = '<p>Generowanie streszczenia...</p>';
            modalBody.classList.add('loading');
            modalBody.classList.remove('error');

            try {
                const prompt = `Podsumuj zawartość strony internetowej pod adresem: ${url}. Streszczenie powinno być zwięzłe i zawierać najważniejsze informacje.`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = ""; // Leave as-is, Canvas will provide it at runtime.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`Błąd API Gemini: ${errorData.error.message || response.statusText}`);
                }

                const result = await response.json();
                let generatedText = 'Nie udało się wygenerować streszczenia.';

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    generatedText = result.candidates[0].content.parts[0].text;
                }

                summaryModalState.summary = generatedText;
                summaryModalState.loading = false;
                modalBody.innerHTML = `<p>${summaryModalState.summary}</p>`;
                modalBody.classList.remove('loading');

            } catch (error) {
                console.error("Błąd generowania streszczenia:", error);
                summaryModalState.summary = 'Wystąpił błąd podczas generowania streszczenia. Spróbuj ponownie później.';
                summaryModalState.loading = false;
                summaryModalState.error = error.message;
                modalBody.innerHTML = `<p>Błąd: ${summaryModalState.summary}</p>`;
                modalBody.classList.remove('loading');
                modalBody.classList.add('error');
            }
        }

        function closeSummaryModal() {
            const modalOverlay = document.getElementById('summary-modal-overlay');
            modalOverlay.classList.remove('open');
            summaryModalState = {
                isOpen: false,
                title: '',
                summary: '',
                loading: false,
                error: null,
            };
        }

        // Initialize on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', () => {
            const splashScreen = document.getElementById('splash-screen');
            const splashMessageDiv = splashScreen.querySelector('.splash-message');
            const mainContentWrapper = document.getElementById('main-content-wrapper');
            const greetingHeader = document.getElementById('greeting-header');
            const searchInput = document.getElementById('search-input');
            const summaryModalCloseButton = document.getElementById('summary-modal-close-button');

            // Get dynamic greeting data
            const greetingData = getDynamicGreeting();
            // Display only the foreign greeting in the header
            greetingHeader.textContent = greetingData.displayGreeting;

            // Add click listener to the greeting header
            greetingHeader.addEventListener('click', async () => {
                // Open Google Translate with the foreign text
                const translateUrl = `https://translate.google.com/?sl=auto&tl=pl&text=${encodeURIComponent(greetingData.textToTranslate)}`;
                window.open(translateUrl, '_blank');

                // Copy the Polish translation to the clipboard
                try {
                    // Using execCommand for better iframe compatibility
                    const textarea = document.createElement('textarea');
                    textarea.value = greetingData.polishTranslationToCopy;
                    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in MS Edge.
                    textarea.style.left = '-9999px'; // Hide the textarea off-screen
                    document.body.appendChild(textarea);
                    textarea.focus();
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    console.log('Polish translation copied to clipboard:', greetingData.polishTranslationToCopy);
                    // Optionally, provide a visual feedback to the user that text was copied
                    // e.g., a small temporary message on screen
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                }
            });

            // Select a random idiom and display language for splash screen
            const randomIdiomIndex = Math.floor(Math.random() * allGreetingsForHeader.length); // Use allGreetingsForHeader here
            const selectedIdiom = allGreetingsForHeader[randomIdiomIndex]; // Use allGreetingsForHeader here

            // Set a random splash background
            const randomBgIndex = Math.floor(Math.random() * splashBackgrounds.length);
            const currentSplashBackground = splashBackgrounds[randomBgIndex];
            splashScreen.style.background = currentSplashBackground;

            // Populate splash message
            splashMessageDiv.innerHTML = `
                <span class="icon">${selectedIdiom.emoji}</span>
                <span class="original-text">${selectedIdiom.text}</span>
                <span class="translation-text">${selectedIdiom.polishTranslation}</span>
            `;

            const splashDisplayDuration = 3500; // Text visible for 3.5 seconds
            const fadeOutTransitionDuration = 600; // Fade out takes 0.6 seconds

            // Start splash screen animation
            setTimeout(() => {
                splashScreen.classList.add('fade-out'); // Start fade-out of splash
                // After the fade-out transition, completely hide and ensure no pointer events
                setTimeout(() => {
                    splashScreen.style.display = 'none'; // Hide splash completely
                    splashScreen.style.zIndex = '-1'; // Send to back
                    splashScreen.style.pointerEvents = 'none'; // Ensure no interactions
                    mainContentWrapper.classList.add('show'); // Show main content
                }, fadeOutTransitionDuration + 50); // Small additional delay to ensure transition completes
            }, splashDisplayDuration);


            // Dynamically load the weather widget script
            const scriptId = 'weatherwidget-io-js';
            if (!document.getElementById(scriptId)) {
                const script = document.createElement('script');
                script.id = scriptId;
                script.src = 'https://weatherwidget.io/js/widget.min.js';
                script.async = true; // Make it async to not block rendering
                document.body.appendChild(script);
            }

            // Initial render of quick access and bookmarks
            renderQuickAccessLinks();
            groupedBookmarks = groupBookmarksByFolder(allBookmarksData);
            renderBookmarkCategories(groupedBookmarks);

            // Event listener for search input
            searchInput.addEventListener('input', handleSearch);

            // Event listener for modal close button
            summaryModalCloseButton.addEventListener('click', closeSummaryModal);
        });
    </script>
</body>
</html>
