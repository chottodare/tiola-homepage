<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mened≈ºer Zak≈Çadek</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* General styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #e0eafc, #cfdef3); /* Very light blue gradient */
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better content flow */
        }

        /* Splash Screen Styles */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Darker overlay */
            display: flex;
            flex-direction: column; /* Allow content to stack */
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.6s ease-out; /* Slightly slower fade out transition */
            pointer-events: auto; /* Initially allow pointer events */
        }

        .splash-screen.fade-out {
            opacity: 0;
            pointer-events: none; /* Disable interactions after fade out */
        }

        .splash-message {
            font-size: 2.5em; /* Slightly larger font size for idioms */
            font-weight: 700;
            color: #ffffff; /* Domy≈õlny kolor dla ca≈Çego komunikatu */
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.4); /* Stronger shadow */
            opacity: 0;
            animation: message-fade-in 1.2s ease-out forwards; /* Slower message fade in */
            text-align: center;
            padding: 0 25px; /* More padding */
            line-height: 1.3;
        }

        .splash-message .icon {
            font-size: 1.3em; /* Slightly larger emoji */
            margin-right: 12px;
        }

        .splash-message .original-text {
            color: #FFFFFF; /* Wyra≈∫ny bia≈Çy kolor dla oryginalnego tekstu */
            font-weight: 800; /* Pogrubienie dla lepszej widoczno≈õci */
        }

        .splash-message .translation-text {
            color: #E0F7FA; /* Lighter blue for translation */
            font-weight: 500; /* Medium weight */
            display: block; /* New line for polish translation */
            margin-top: 10px;
            font-size: 0.8em; /* Smaller for translation */
        }

        /* Main Content Fade In */
        .main-content-wrapper {
            opacity: 0;
            transition: opacity 0.7s ease-in; /* Slower fade in */
            width: 100%; /* Ensure it takes full width */
            max-width: 1000px; /* Match container max-width */
        }

        .main-content-wrapper.show {
            opacity: 1;
        }

        @keyframes message-fade-in {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .container {
            width: 100%; /* Use 100% width within its parent */
            margin: 20px auto;
            background: #ffffff;
            border-radius: 16px; /* More rounded corners */
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1); /* Softer, larger shadow */
            padding: 35px; /* More padding */
            overflow: hidden; /* Ensure content stays within bounds */
        }

        .header {
            text-align: center;
            padding-bottom: 30px; /* More padding */
            margin-bottom: 35px; /* More margin */
            border-bottom: 1px solid #e0e0e0;
        }

        .header h1 {
            font-size: 3em; /* Larger heading */
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 12px;
            animation: text-fade-in 1s ease-out forwards; /* New animation for header */
            cursor: pointer; /* Add cursor pointer to indicate clickability */
        }

        .header h1:hover {
            text-decoration: underline; /* Underline on hover */
        }

        .header p {
            font-size: 1.15em; /* Slightly larger text */
            color: #7f8c8d;
            animation: text-fade-in 1.2s ease-out forwards 0.2s; /* Delayed animation */
        }

        @keyframes text-fade-in {
            0% { opacity: 0; transform: translateY(10px); }
            100% { transform: translateY(0); }
        }

        /* Search Bar Styles */
        .search-bar-container {
            margin-bottom: 35px; /* More margin */
            padding: 18px; /* More padding */
            background: #ffffff;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07); /* Softer shadow */
            display: flex;
            align-items: center;
            gap: 15px; /* More space */
            transition: box-shadow 0.3s ease;
        }

        .search-bar-container:focus-within {
            box-shadow: 0 6px 20px rgba(41, 128, 185, 0.25); /* Stronger shadow on focus */
        }

        .search-input {
            flex-grow: 1;
            padding: 12px 20px; /* More padding */
            border: 1px solid #ddd; /* Lighter border */
            border-radius: 10px; /* More rounded corners */
            font-size: 1.05em; /* Slightly larger font */
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .search-input:focus {
            border-color: #5dade2; /* Lighter blue on focus */
            box-shadow: 0 0 8px rgba(93, 173, 226, 0.4); /* Softer glow */
        }

        /* Quick Access Section Styles */
        .quick-access-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px; /* More space */
            margin-bottom: 45px; /* More margin */
            padding: 25px; /* More padding */
            background: #eef5fc; /* Lighter background for quick access */
            border-radius: 14px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); /* Subtle shadow */
        }

        .quick-access-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90px; /* Larger size */
            height: 90px; /* Larger size */
            background: #ffffff;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); /* Softer shadow */
            transition: transform 0.25s ease, box-shadow 0.25s ease, background-color 0.25s ease;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            color: #333;
            position: relative; /* For potential future animations */
            overflow: hidden; /* Hide overflow for icon scaling */
        }

        .quick-access-item:hover {
            transform: translateY(-7px) scale(1.05); /* More pronounced lift and scale */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
            background-color: #f0f8ff; /* Very light blue on hover */
        }

        .quick-access-icon {
            font-size: 2.5em; /* Larger icon size */
            margin-bottom: 8px;
            width: 45px; /* Larger favicon size */
            height: 45px; /* Larger favicon size */
            object-fit: contain;
            transition: transform 0.25s ease;
        }
        .quick-access-item:hover .quick-access-icon {
            transform: scale(1.1); /* Subtle icon zoom on hover */
        }

        .quick-access-title {
            font-size: 0.85em; /* Slightly larger text */
            font-weight: 600;
            color: #555;
        }

        .category-section {
            margin-bottom: 30px;
            padding: 25px;
            border-radius: 16px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06); /* Softer shadow */
            transition: background-color 0.3s ease;
        }

        .category-section h2 {
            font-size: 2.2em; /* Larger heading */
            color: #2c3e50;
            margin-bottom: 25px; /* More margin */
            display: flex;
            align-items: center;
            gap: 12px; /* More space */
            padding-bottom: 12px; /* More padding */
            border-bottom: 1px solid rgba(0,0,0,0.08); /* Lighter border */
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .category-section h2:hover {
            color: #3498db; /* Blue on hover */
        }

        .category-section h2::after {
            content: '‚ñº';
            margin-left: auto;
            transition: transform 0.3s ease;
            font-size: 0.8em; /* Smaller arrow */
            color: #7f8c8d;
        }

        .category-section.open h2::after {
            content: '‚ñ≤';
            transform: rotate(0deg);
        }

        .category-section ul {
            list-style: none;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-out; /* Slower, smoother transition */
        }

        .category-section.open ul {
            max-height: 1500px; /* Increased value to accommodate more content */
        }

        .category-section ul li {
            margin-bottom: 15px; /* More margin */
            background: rgba(255, 255, 255, 0.85); /* Slightly less transparent */
            padding: 15px 20px; /* More padding */
            border-radius: 10px; /* More rounded corners */
            transition: background-color 0.2s ease, transform 0.1s ease;
            display: flex;
            align-items: center;
            gap: 15px; /* More space */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04); /* Subtle shadow */
        }

        .category-section ul li:hover {
            background-color: rgba(255, 255, 255, 0.98); /* Almost opaque on hover */
            transform: translateX(5px); /* Subtle slide effect */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Slightly stronger shadow */
        }

        .category-section ul li .bookmark-link-content {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .category-section ul li a {
            text-decoration: none;
            color: #34495e;
            font-size: 1.2em; /* Larger font */
            font-weight: 600;
            display: block;
            word-wrap: break-word;
            transition: color 0.2s ease;
        }

        .category-section ul li a:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        .category-section ul li .bookmark-description {
            font-size: 0.95em; /* Slightly larger */
            color: #7f8c8d;
            margin-top: 6px; /* More margin */
            line-height: 1.4;
        }

        /* Favicon in category list */
        .category-favicon {
            width: 28px; /* Larger favicon */
            height: 28px; /* Larger favicon */
            object-fit: contain;
            flex-shrink: 0;
        }

        /* No results message */
        .no-results-message {
            text-align: center;
            padding: 40px; /* More padding */
            font-size: 1.3em; /* Larger font */
            color: #7f8c8d;
            background: #f8f9fa;
            border-radius: 12px;
            margin-top: 40px; /* More margin */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .no-results-message a {
            color: #2980b9;
            text-decoration: none;
            font-weight: 700; /* Bolder */
            transition: color 0.2s ease;
        }

        .no-results-message a:hover {
            text-decoration: underline;
            color: #3498db;
        }

        /* Bounce effect for search results */
        @keyframes bounce-in {
            0% { transform: scale(0.9); opacity: 0; }
            50% { transform: scale(1.03); opacity: 1; } /* Slightly less bounce */
            100% { transform: scale(1); }
        }

        .category-section ul li.search-result-bounce {
            animation: bounce-in 0.4s ease-out; /* Slightly faster bounce */
        }

        /* Summary Button Styles */
        .summary-button {
            background-color: #3498db; /* Blue button */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 0.85em;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            margin-left: auto; /* Push to the right */
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap; /* Prevent text wrapping */
        }

        .summary-button:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
        }

        .summary-button:active {
            transform: translateY(0);
        }

        .summary-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease-out;
            pointer-events: none; /* Initially no pointer events */
        }

        .modal-overlay.open {
            opacity: 1;
            pointer-events: auto; /* Enable pointer events when open */
        }

        .modal-content {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 90%;
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            position: relative;
        }

        .modal-overlay.open .modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .modal-header h3 {
            font-size: 1.8em;
            color: #2c3e50;
            margin: 0;
        }

        .modal-close-button {
            background: none;
            border: none;
            font-size: 1.8em;
            color: #7f8c8d;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .modal-close-button:hover {
            color: #333;
        }

        .modal-body {
            font-size: 1.1em;
            color: #555;
            line-height: 1.6;
            max-height: 300px; /* Limit height for scroll */
            overflow-y: auto; /* Enable scrolling */
            padding-right: 10px; /* Space for scrollbar */
        }

        .modal-body p {
            margin-bottom: 10px;
        }

        .modal-body.loading {
            text-align: center;
            font-style: italic;
            color: #888;
        }

        .modal-body.error {
            color: #e74c3c;
            font-weight: 600;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            .container {
                padding: 25px;
                margin: 15px auto;
            }
            .header h1 {
                font-size: 2.5em;
            }
            .header p {
                font-size: 1em;
            }
            .quick-access-item {
                width: 80px;
                height: 80px;
            }
            .quick-access-icon {
                font-size: 2em;
                width: 40px;
                height: 40px;
            }
            .quick-access-title {
                font-size: 0.75em;
            }
            .category-section h2 {
                font-size: 2em;
            }
            .category-section ul li {
                padding: 12px 15px;
                gap: 10px;
                flex-wrap: wrap; /* Allow buttons to wrap */
            }
            .category-section ul li a {
                font-size: 1.05em;
            }
            .category-favicon {
                width: 24px;
                height: 24px;
            }
            .no-results-message {
                padding: 25px;
                font-size: 1.1em;
            }
            .modal-content {
                padding: 20px;
                width: 95%;
            }
            .modal-header h3 {
                font-size: 1.5em;
            }
            .modal-close-button {
                font-size: 1.5em;
            }
            .modal-body {
                font-size: 1em;
            }
            .summary-button {
                margin-left: 0; /* Remove left margin for better wrapping */
                margin-top: 10px; /* Add top margin if wrapped */
                width: 100%; /* Make buttons full width when wrapped */
                justify-content: center; /* Center content in full-width buttons */
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
                margin: 10px auto;
            }
            .header h1 {
                font-size: 2em;
            }
            .header p {
                font-size: 0.9em;
            }
            .quick-access-item {
                width: 70px;
                height: 70px;
            }
            .quick-access-icon {
                font-size: 1.8em;
                width: 35px;
                height: 35px;
            }
            .quick-access-title {
                font-size: 0.65em;
            }
            .category-section h2 {
                font-size: 1.6em;
            }
            .category-section ul li {
                padding: 10px 12px;
            }
            .category-section ul li a {
                font-size: 0.95em;
            }
            .category-favicon {
                width: 20px;
                height: 20px;
            }
            .no-results-message {
                padding: 20px;
                font-size: 1em;
            }
            .summary-button {
                padding: 6px 10px;
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>

    <div id="splash-screen" class="splash-screen">
        <div class="splash-message"></div>
    </div>

    <div id="main-content-wrapper" class="main-content-wrapper">
        <div class="container">
            <div class="header">
                <h1 id="greeting-header"></h1>
                <div class="weather-widget-container" style="margin-bottom: 20px;">
                    <a class="weatherwidget-io" href="https://forecast7.com/pl/52d3421d24/wolomin/" data-label_1="WO≈ÅOMIN" data-icons="Climacons Animated" data-mode="Forecast" data-days="3" data-theme="weather_one">WO≈ÅOMIN</a>
                </div>
                <p>Prosty i przejrzysty mened≈ºer Twoich ulubionych stron.</p>
            </div>

            <div class="search-bar-container">
                <input type="text" id="search-input" placeholder="Wyszukaj zak≈Çadki...">
            </div>

            <div class="quick-access-section" id="quick-access-section"></div>

            <div id="bookmark-categories-section"></div>

            <div id="no-results-message" class="no-results-message" style="display: none;"></div>
        </div>
    </div>

    <div id="summary-modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="summary-modal-title"></h3>
                <button id="summary-modal-close-button" class="modal-close-button">√ó</button>
            </div>
            <div id="summary-modal-body" class="modal-body"></div>
        </div>
    </div>

    <script>
        // Helper function to get favicon URL
        function getFaviconUrl(url) {
            try {
                if (url && url !== '#') {
                    const domain = new URL(url).hostname;
                    return `https://www.google.com/s2/favicons?domain=${domain}&sz=64`;
                }
                return null;
            } catch (error) {
                console.error("Invalid URL for favicon:", url, error);
                return null;
            }
        }

        // Bookmark Data (simplified for direct use, assuming it's parsed from HTML file)
        const allBookmarksData = [
            { folder: "Edukacja", title: "Ocena Efektywno≈õci Pomocy Psychologiczno-Pedagogicznej", url: "https://pedagogika-specjalna.edu.pl/warsztat-pracy/ocena-efektywnosci-udzielanej-pomocy-psychologiczno-pedagogicznej/", description: "Artyku≈Ç dotyczƒÖcy oceny efektywno≈õci pomocy psychologiczno-pedagogicznej." },
            { folder: "Edukacja", title: "Podstawa Programowa Kszta≈Çcenia Og√≥lnego (Szko≈Çy Podstawowe)", url: "https://www.gov.pl/web/edukacja/podstawa-programowa-ksztalcenia-ogolnego-dla-szkol-podstawowych", description: "Oficjalna strona z podstawƒÖ programowƒÖ kszta≈Çcenia og√≥lnego dla szk√≥≈Ç podstawowych." },
            { folder: "Rozrywka", title: "YouTube - Platforma Wideo", url: "https://www.youtube.com/", description: "Platforma wideo YouTube." },
            { folder: "Hobby", title: "Blog Tinas Blumenwiese (Rƒôkodzie≈Ço)", url: "https://tinasblumenwiese.com/", description: "Blog o rƒôkodziele i kreatywno≈õci." },
            { folder: "Poczta", title: "Onet Poczta - Skrzynka Odbiorcza", url: "https://poczta.onet.pl/", description: "Poczta elektroniczna Onet." },
            { folder: "Zakupy", title: "Allegro - Platforma Zakupowa", url: "https://allegro.pl/", description: "Popularna platforma zakupowa." },
            { folder: "Poczta", title: "WP Poczta - Logowanie", url: "https://poczta.wp.pl/", description: "Poczta elektroniczna WP." },
            { folder: "Zdrowie", title: "Contour Diabetes - ZarzƒÖdzanie CukrzycƒÖ", url: "https://www.contourplusone.pl/", description: "Strona produktu do zarzƒÖdzania cukrzycƒÖ." },
            { folder: "Hobby", title: "Pinterest - Odkrywaj Pomys≈Çy", url: "https://pl.pinterest.com/", description: "Platforma do odkrywania i zapisywania pomys≈Ç√≥w." },
            { folder: "Finanse", title: "Bank Santander - Logowanie Online", url: "https://www.centrum24.pl/", description: "Logowanie do bankowo≈õci internetowej Santander." },
            { folder: "Zakupy", title: "PAYBACK Bonprix - Sklep Online", url: "https://www.payback.pl/sklepy-online/bonprix", description: "Strona Payback dla zakup√≥w w Bonprix." },
            { folder: "Zakupy", title: "PAYBACK Sklepy Online - Lista", url: "https://www.payback.pl/sklepy-online", description: "Lista sklep√≥w online wsp√≥≈ÇpracujƒÖcych z Payback." },
            { folder: "Administracja", title: "ZUS - Raporty Informacyjne", url: "https://www.zus.pl/portal/obszar-ubezpieczonego.npi#KUB0025", description: "Raporty informacyjne z ZUS." },
            { folder: "Rozrywka", title: "Audioteka - Moja P√≥≈Çka z Audiobookami", url: "https://audioteka.com/pl/my-shelf", description: "Moja p√≥≈Çka z audiobookami na Audioteka.com." },
            { folder: "Rozrywka", title: "Audioteka - Subskrypcja", url: "https://promo.audioteka.com/pl/subscribe/code#login", description: "Strona subskrypcji Audioteka." },
            { folder: "Administracja", title: "ZUS - Logowanie i Rejestracja", url: "https://www.zus.pl/portal/logowanie.npi", description: "Strona logowania i rejestracji do portalu ZUS." },
            { folder: "Administracja", title: "Tw√≥j e-PIT (Podatki.gov.pl)", url: "https://www.podatki.gov.pl/pit/twoj-e-pit/", description: "Serwis Tw√≥j e-PIT na gov.pl." },
            { folder: "Zdrowie", title: "NFZ - PrzeglƒÖd Skierowa≈Ñ", url: "https://skierowania.nfz.gov.pl/ap-przegl-skier/servlet/skierowania/show_app", description: "PrzeglƒÖdarka skierowa≈Ñ na leczenie uzdrowiskowe NFZ." },
            { folder: "Poczta", title: "Gmail - Skrzynka Odbiorcza", url: "https://mail.google.com/", description: "Skrzynka odbiorcza Gmail." },
            { folder: "Filmy i TV", title: "FilmPolski.pl - Filmoteka", url: "http://filmpolski.pl/", description: "Filmoteka polska." },
            { folder: "Filmy i TV", title: "Filmy Online CDA - Darmowe HD", url: "https://cda-filmy.online/", description: "Filmy online w HD za darmo." },
            { folder: "Filmy i TV", title: "Horizon TV - OglƒÖdaj TV Online", url: "https://www.horizon.tv/pl_pl/tv/ogladaj-tv.html", description: "OglƒÖdaj TV online na Horizon." },
            { folder: "Filmy i TV", title: "VOD.pl - Filmy i Seriale Online", url: "https://vod.pl/", description: "Filmy i seriale online VOD." },
            { folder: "Filmy i TV", title: "CDA - Spo≈Çeczno≈õƒá Filmowa", url: "https://www.cda.pl/", description: "Spo≈Çeczno≈õƒá cda.pl." },
            { folder: "Filmy i TV", title: "PLAY NOW - Serwis Streamingowy", url: "https://playnow.pl/", description: "Serwis streamingowy PLAY NOW." },
            { folder: "Filmy i TV", title: "Film w Szkole - Filmy Edukacyjne", url: "https://filmwszkole.pl/filmy/", description: "Filmy edukacyjne dla szk√≥≈Ç." },
            { folder: "Filmy i TV", title: "Rakuten TV - Najpopularniejsze Publikacje", url: "https://rakuten.tv/pl/", description: "Najpopularniejsze publikacje na Rakuten TV." },
            { folder: "Filmy i TV", title: "TVP Repetytorium Maturzysty (Gov.pl)", url: "https://www.gov.pl/web/edukacja/tvp-repetytorium-maturzysty", description: "Repetytorium maturalne TVP na gov.pl." },
            { folder: "Dzienniki Szkolne", title: "ZSE Wo≈Çomin - Strona Szko≈Çy", url: "https://zsewolomin.edupage.org/", description: "Strona Zespo≈Çu Szk√≥≈Ç Ekonomicznych w Wo≈Çominie." },
            { folder: "Dzienniki Szkolne", title: "Dziennik UONET+ (Powiat Wo≈Çomi≈Ñski)", url: "https://uonetplus.vulcan.net.pl/powiatwolominski/", description: "Dziennik elektroniczny UONET+." },
            { folder: "Dzienniki Szkolne", title: "BrakujƒÖcy wpis (Placeholder)", url: "https://example.com/placeholder", description: "Ten wpis by≈Ç wcze≈õniej niekompletny i zosta≈Ç uzupe≈Çniony." },
            { folder: "Dzienniki Szkolne", title: "LIBRUS Szko≈Ça - Portal Edukacyjny", url: "https://portal.librus.pl/szkola", description: "Portal LIBRUS Szko≈Ça." },
            { folder: "Dzienniki Szkolne", title: "Ekonomik Wo≈Çomin - Facebook", url: "https://www.facebook.com/EkonomikWolomin/", description: "Strona Facebook ZSE w Wo≈Çominie." },
            { folder: "Narzƒôdzia Online", title: "Microsoft Office Online - Strona G≈Ç√≥wna", url: "https://www.office.com/apps", description: "Strona g≈Ç√≥wna Microsoft Office." },
            { folder: "Edukacja", title: "Nowa Era - Za≈õwiadczenia ze Spotka≈Ñ", url: "https://www.nowaera.pl/spotkania/zaswiadczenia", description: "Za≈õwiadczenia o udziale w spotkaniach Nowa Era." },
            { folder: "Administracja", title: "COVID-19 - Aktualne Zasady i Ograniczenia", url: "https://www.gov.pl/web/koronawirus/aktualne-zasady-i-ograniczenia", description: "Aktualne zasady i ograniczenia zwiƒÖzane z koronawirusem." },
            { folder: "Edukacja", title: "CEO.org.pl - Szkolenia i Projekty Edukacyjne", url: "https://ceo.org.pl/", description: "Szkolenia dla nauczycieli i projekty edukacyjne." },
            { folder: "Edukacja", title: "LearningApps.org - Interaktywne Modu≈Çy", url: "https://learningapps.org/", description: "Interaktywne modu≈Çy edukacyjne." },
            { folder: "Edukacja", title: "Epodrƒôczniki.pl - Platforma z Podrƒôcznikami", url: "https://epodreczniki.pl/", description: "Platforma z epodrƒôcznikami." },
            { folder: "Dzienniki Szkolne", title: "SP4 Wo≈Çomin - Strona Szko≈Çy Podstawowej", url: "http://zs4-wolomin.pl/", description: "Strona Szko≈Çy Podstawowej nr 4 w Wo≈Çominie." },
            { folder: "Narzƒôdzia Online", title: "T≈Çumacz Google - Wyszukiwarka", url: "https://translate.google.com/", description: "Wyszukiwarka Google dla t≈Çumacza." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Lekcja 1 (Ang.pl)", url: "https://hiszpanski.ang.pl/nauka/lekcje_od_podstaw/czesc", description: "Pierwsza lekcja hiszpa≈Ñskiego online." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - ƒÜwiczenia (Ang.pl)", url: "https://hiszpanski.ang.pl/cwiczenia", description: "ƒÜwiczenia z hiszpa≈Ñskiego online." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Czasowniki IR (Ang.pl)", url: "https://hiszpanski.ang.pl/gramatyka/czasownik/iii_grupa_koniugacji_ir", description: "Odmiana czasownik√≥w hiszpa≈Ñskich - III grupa koniugacji." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Czasowniki Regularne (Ang.pl)", url: "https://hiszpanski.ang.pl/gramatyka/czasownik/wstep", description: "Wprowadzenie do hiszpa≈Ñskich czasownik√≥w regularnych." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Gramatyka (Ang.pl)", url: "https://hiszpanski.ang.pl/gramatyka/spis-tresci", description: "Spis zagadnie≈Ñ gramatyki hiszpa≈Ñskiej." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "S≈Ç√≥wka Hiszpa≈Ñski: Szko≈Ça (e-hiszpanski.com)", url: "http://e-hiszpanski.com/slownictwo/szkola.html", description: "S≈Ç√≥wka z jƒôzyka hiszpa≈Ñskiego dotyczƒÖce szko≈Çy." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "¬°Espa√±ol, por favor! (e-book do nauki)", url: "https://www.espanoleandocondoni.com/sklep/item/e-book/espanol-por-favor---version-electronica-e-book/", description: "E-book do nauki hiszpa≈Ñskiego." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñska Salsa - Zdrowie (Blog)", url: "http://hiszpanskasalsa.blogspot.com/2016/08/la-salud-zdrowie-czii.html", description: "Blog o zdrowiu po hiszpa≈Ñsku." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Przys≈Ç√≥wki (Crib.pl)", url: "https://hiszpanski.crib.pl/adverbio-przyslowki-w-jezyku-hiszpanskim.html", description: "Przys≈Ç√≥wki w jƒôzyku hiszpa≈Ñskim." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Liczebniki (Langusta.io)", url: "https://langusta.io/blog/liczebniki-hiszpanskie-maraton-jezykowy-dla-kazdego/", description: "Maraton jƒôzykowy z liczebnikami hiszpa≈Ñskimi." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "YouTube - Hiszpa≈Ñska Wymowa G", url: "https://www.youtube.com/watch?v=example1", description: "Jak poprawnie wymawiaƒá: guacamole, guitarra, gmail? | hiszpa≈Ñska wymowa G." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "YouTube - Agata Uczy (Kana≈Ç Edukacyjny)", url: "https://www.youtube.com/watch?v=example2", description: "Kana≈Ç edukacyjny Agata uczy." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "YouTube - Planowanie Nauki Hiszpa≈Ñskiego", url: "https://www.youtube.com/watch?v=example3", description: "Jak zaplanowaƒá naukƒô hiszpa≈Ñskiego? | rozmowa z KlaudiƒÖ z Optimismo Compartido." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "YouTube - Filmy o Hiszpa≈Ñskiej Wymowie", url: "https://www.youtube.com/watch?v=example4", description: "Filmy o hiszpa≈Ñskiej wymowa." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "YouTube - Kurs Hiszpa≈Ñskiego dla PoczƒÖtkujƒÖcych", url: "https://www.youtube.com/watch?v=example5", description: "Kurs hiszpa≈Ñskiego dla poczƒÖtkujƒÖcych." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Kt√≥ra Godzina (Speaklanguages.com)", url: "https://pl.speaklanguages.com/hiszpa%C5%84ski/zwroty/kt%C3%B3ra-godzina", description: "Okre≈õlanie czasu po hiszpa≈Ñsku." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Podawanie Godziny (Curso.pl)", url: "http://www.curso.pl/index.php?p=2_137", description: "Podawanie godziny w jƒôzyku hiszpa≈Ñskim." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Hiszpa≈Ñski - Godziny S≈Ç√≥wka (Crib.pl)", url: "https://hiszpanski.crib.pl/godziny-nauka-slowek-zwrotow.html", description: "Nauka s≈Ç√≥wek i zwrot√≥w dotyczƒÖcych godzin." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Agata Uczy - Skarby (Materia≈Çy do nauki)", url: "https://www.agatauczy.pl/skarby/", description: "Materia≈Çy do nauki hiszpa≈Ñskiego od Agaty uczy." },
            { folder: "Jƒôzyk Hiszpa≈Ñski", title: "Small Things with Great Heart (Dla Nauczycieli Jƒôzyk√≥w)", url: "https://smallthingswithgreatheart.com/", description: "Materia≈Çy dla nauczycieli jƒôzyk√≥w obcych." },
            { folder: "Geografia", title: "Geography Notes (PDF)", url: "https://kingproehl.files.wordpress.com/2014/08/geography_notes2.pdf", description: "Plik PDF z notatkami z geografii." },
            { folder: "Geografia", title: "60 Wirtualnych Budowli do Zwiedzania", url: "https://www.budowle.pl/tekst/60-budowli-ktore-mozesz-odwiedzic-wirtualnie-bez-wychodzenia-z-domu/546", description: "Lista 60 budowli do wirtualnego zwiedzania." },
            { folder: "Geografia", title: "Wirtualny Kraj - Spacery Panoramiczne", url: "https://www.wirtualnykraj.pl/", description: "Wirtualne spacery i wycieczki panoramiczne." },
            { folder: "Jƒôzyk Polski", title: "Tragizm Antygony (Wypracowanie)", url: "https://www.bryk.pl/wypracowania/jezyk-polski/antyk-i-biblia/14037-na-czym-polega-tragizm-antygony.html", description: "Wypracowanie na temat tragizmu Antygony." },
            { folder: "Jƒôzyk Polski", title: "Makbet - Bohaterowie (KLP.pl)", url: "https://klp.pl/makbet/a-7598-3.html", description: "Charakterystyka bohater√≥w Makbeta z KLP.pl." },
            { folder: "Jƒôzyk Polski", title: "Makbet - Analiza Lektury (Wypracowania.pl)", url: "https://wypracowania.pl/lektury/makbet-geneza-czas-i-miejsce-akcji-bohaterowie-interpretacja-i-motywy", description: "Analiza lektury Makbet." },
            { folder: "Jƒôzyk Polski", title: "Sk≈Çad Zupy Czarownic w Makbecie (Analiza)", url: "https://fizjologus.wordpress.com/2012/05/31/sklad-zupy-czarownic-w-makbecie/", description: "Analiza sk≈Çadu zupy czarownic w Makbecie." },
            { folder: "Jƒôzyk Polski", title: "Makbet - Streszczenie i Analiza (KLP.pl)", url: "https://klp.pl/makbet/a-7598.html", description: "Streszczenie i analiza Makbeta z KLP.pl." },
            { folder: "Jƒôzyk Polski", title: "Antygona - Pytania i Odpowiedzi (AleKlasa)", url: "https://aleklasa.pl/gimnazjum/c267-lektury-do-egzaminu/antygona-sofoklesa", description: "Pytania i odpowiedzi dotyczƒÖce Antygony." },
            { folder: "Geografia", title: "Czynniki Klimatotw√≥rcze (Geografia24.pl)", url: "http://geografia24.pl/czynniki-klimatotworcze/", description: "Artyku≈Ç o czynnikach klimatotw√≥rczych." },
            { folder: "Geografia", title: "Prognozowanie Pogody (Geografia24.pl)", url: "http://geografia24.pl/prognozowanie-pogody/", description: "Artyku≈Ç o prognozowaniu pogody." },
            { folder: "Filozofia", title: "Filozofie Staro≈ºytne (Sciaga.pl)", url: "https://sciaga.pl/tekst/57655-58-filozofie_starozytne", description: "Tekst o filozofiach staro≈ºytnych." },
            { folder: "Jƒôzyk Polski", title: "Co to sƒÖ Neologizmy? (AleKlasa)", url: "https://aleklasa.pl/gimnazjum/c185-slowotworstwo/co-to-sa-neologizmy", description: "Definicja i przyk≈Çady neologizm√≥w." },
            { folder: "Jƒôzyk Polski", title: "Neologizmy - Definicja i Przyk≈Çady (Bryk.pl)", url: "https://www.bryk.pl/wypracowania/jezyk-polski/materialy-do-matury/1010410-neologizmy-definicja-i-przyk≈Çady.html", description: "Definicja i przyk≈Çady neologizm√≥w z Bryk.pl." },
            { folder: "Jƒôzyk Polski", title: "Neologizm - Prosty Polski (Definicja i Przyk≈Çady)", url: "https://prostypolski.pl/neologizm-definicja-przyklady-neologizmow/", description: "Definicja i przyk≈Çady neologizm√≥w z Prosty Polski." },
            { folder: "Podr√≥≈ºe", title: "Tatrza≈Ñska ≈öwiƒÖtynia Lodowa na Hrebienku", url: "https://gorydlaciebie.pl/tatrzanska-swiatynia-lodowa-na-hrebienku/", description: "Atrakcja s≈Çowackich Tatr." },
            { folder: "Jƒôzyk Polski", title: "Laura i Filon (Audiobook na YouTube)", url: "https://www.youtube.com/watch?v=example6", description: "Audiobook 'Laura i Filon' Franciszka Karpi≈Ñskiego." },
            { folder: "Rozw√≥j Osobisty", title: "Umiejƒôtno≈õci Spo≈Çeczne - Program Zajƒôƒá Rewalidacyjnych", url: "https://autyzm.life/2020/01/17/umiejetnosci-spoleczne-program-zajec-rewalidacyjnych/", description: "Program zajƒôƒá rewalidacyjnych dotyczƒÖcych umiejƒôtno≈õci spo≈Çecznych." },
            { folder: "Historia", title: "Niccolo Paganini (PDF)", url: "https://www.sm1st.wroclaw.pl/wp-content/uploads/2020/05/1.Niccolo-Paganini-180-rocznica-s%CC%81mierci.pdf", description: "Plik PDF o Niccolo Paganinim." },
            { folder: "Rozrywka", title: "Kultowe Pary Filmowe (Ofeminin.pl)", url: "https://www.ofeminin.pl/milosc/zwiazek/12-kultowych-par-z-najwiekszych-kinowych-romansow/hyyxvms", description: "12 kultowych par z najwiƒôkszych kinowych romans√≥w." }
        ];

        // Data for quick access section
        const quickAccessLinks = [
            { title: "Onet Poczta", url: "https://poczta.onet.pl/" },
            { title: "MS Teams", url: "https://teams.microsoft.com/" },
            { title: "YouTube", url: "https://www.youtube.com/" },
            { title: "Allegro", url: "https://allegro.pl/" },
            { title: "Letyshops", url: "https://letyshops.com/pl/" },
            { title: "AliExpress", url: "https://www.aliexpress.com/" },
            { title: "Instagram", url: "https://www.instagram.com/" },
            { title: "Messenger", url: "https://www.messenger.com/" },
            { title: "WhatsApp", url: "https://web.whatsapp.com/" },
            { title: "Dodaj", url: "#", icon: "‚ûï" },
        ];

        // List of personalized greetings in five languages with Polish translation and emoji
        const allGreetingsForHeader = [
            // Polish greetings
            { emoji: "üåø", text: "Cze≈õƒá Viola! Jak siƒô majƒÖ Twoje pelargonie?", languageCode: "pl", polishTranslation: "Cze≈õƒá Viola! Jak siƒô majƒÖ Twoje pelargonie?" },
            { emoji: "‚òÄÔ∏è", text: "Witaj w s≈Çoneczny dzie≈Ñ! Gotowa na ogr√≥d?", languageCode: "pl", polishTranslation: "Witaj w s≈Çoneczny dzie≈Ñ! Gotowa na ogr√≥d?" },
            { emoji: "üßµ", text: "Hej Viola! Dziergasz dzi≈õ co≈õ piƒôknego?", languageCode: "pl", polishTranslation: "Hej Viola! Dziergasz dzi≈õ co≈õ piƒôknego?" },
            { emoji: "ü™¥", text: "Dzie≈Ñ dobry, kochana! Kawa na dzia≈Çce smakuje najlepiej.", languageCode: "pl", polishTranslation: "Dzie≈Ñ dobry, kochana! Kawa na dzia≈Çce smakuje najlepiej." },
            { emoji: "üçÖ", text: "Viola, jak tam warzywnik?", languageCode: "pl", polishTranslation: "Viola, jak tam warzywnik?" },
            { emoji: "üåª", text: "Halo! S≈Ço≈Ñce ≈õwieci, czas na relaks.", languageCode: "pl", polishTranslation: "Halo! S≈Ço≈Ñce ≈õwieci, czas na relaks." },
            { emoji: "üåº", text: "Siemanko, Viola! Co nowego w ogrodzie?", languageCode: "pl", polishTranslation: "Siemanko, Viola! Co nowego w ogrodzie?" },
            { emoji: "‚òÄÔ∏è", text: "U≈õmiechniƒôte dzie≈Ñ dobry!", languageCode: "pl", polishTranslation: "U≈õmiechniƒôte dzie≈Ñ dobry!" },
            { emoji: "üõãÔ∏è", text: "Hejka! Mo≈ºe dzi≈õ trochƒô lenistwa?", languageCode: "pl", polishTranslation: "Hejka! Mo≈ºe dzi≈õ trochƒô lenistwa?" },
            { emoji: "üå∏", text: "Viola, witaj w≈õr√≥d kwiat√≥w!", languageCode: "pl", polishTranslation: "Viola, witaj w≈õr√≥d kwiat√≥w!" },
            { emoji: "üß∂", text: "Cze≈õƒá! Masz dzi≈õ czas na szyde≈Çko?", languageCode: "pl", polishTranslation: "Cze≈õƒá! Masz dzi≈õ czas na szyde≈Çko?" },
            { emoji: "‚òÄÔ∏è", text: "S≈Çoneczne pozdrowienia z dzia≈Çki!", languageCode: "pl", polishTranslation: "S≈Çoneczne pozdrowienia z dzia≈Çki!" },
            { emoji: "‚úÇÔ∏è", text: "Dzie≈Ñ dobry, artystko! Co dzi≈õ tworzysz?", languageCode: "pl", polishTranslation: "Dzie≈Ñ dobry, artystko! Co dzi≈õ tworzysz?" },
            { emoji: "üß§", text: "Cze≈õƒá Viola! Rƒôkawiczki ogrodowe w d≈Ço≈Ñ!", languageCode: "pl", polishTranslation: "Cze≈õƒá Viola! Rƒôkawiczki ogrodowe w d≈Ço≈Ñ!" },
            { emoji: "üå∫", text: "Jak tam Twoje bratki?", languageCode: "pl", polishTranslation: "Jak tam Twoje bratki?" },
            { emoji: "üõèÔ∏è", text: "Mi≈Çego poranka, Viola!", languageCode: "pl", polishTranslation: "Mi≈Çego poranka, Viola!" },
            { emoji: "üå§Ô∏è", text: "Hej! Dzi≈õ idealny dzie≈Ñ na odpoczynek", languageCode: "pl", polishTranslation: "Hej! Dzi≈õ idealny dzie≈Ñ na odpoczynek" },
            { emoji: "üåæ", text: "Viola, gotowa na dzie≈Ñ w ogrodzie?", languageCode: "pl", polishTranslation: "Viola, gotowa na dzie≈Ñ w ogrodzie?" },
            { emoji: "üëëü™¥", text: "Witaj, kr√≥lowo dzia≈Çki!", languageCode: "pl", polishTranslation: "Witaj, kr√≥lowo dzia≈Çki!" },
            { emoji: "‚òï", text: "Cze≈õƒá! Zas≈Çu≈ºona przerwa?", languageCode: "pl", polishTranslation: "Cze≈õƒá! Zas≈Çu≈ºona przerwa?" },

            // Italian greetings
            { emoji: "üåº", text: "Ciao Viola! Come stanno i tuoi fiori oggi?", languageCode: "it", polishTranslation: "Cze≈õƒá Viola! Jak siƒô majƒÖ Twoje kwiaty dzisiaj?" },
            { emoji: "‚òï", text: "Buongiorno! Hai gi√† bevuto il caff√® sul terrazzo?", languageCode: "it", polishTranslation: "Dzie≈Ñ dobry! Pi≈Ça≈õ ju≈º kawƒô na tarasie?" },
            { emoji: "üåû", text: "Viola, che bella giornata per il giardinaggio!", languageCode: "it", polishTranslation: "Viola, co za piƒôkny dzie≈Ñ na ogrodnictwo!" },
            { emoji: "üß∂", text: "Salve! Stai creando qualcosa di nuovo?", languageCode: "it", polishTranslation: "Witaj! Tworzysz co≈õ nowego?" },
            { emoji: "üåø", text: "Ehi Viola! Il basilico cresce bene?", languageCode: "it", polishTranslation: "Hej Viola! Bazylia dobrze ro≈õnie?" },
            { emoji: "ü™¥", text: "Bentornata nel tuo angolo verde!", languageCode: "it", polishTranslation: "Witaj z powrotem w swoim zielonym zakƒÖtku!" },
            { emoji: "üõãÔ∏è", text: "Ciao! Ti meriti un po‚Äô di relax oggi", languageCode: "it", polishTranslation: "Cze≈õƒá! Zas≈Çugujesz dzi≈õ na trochƒô relaksu" },
            { emoji: "üçÖ", text: "Viola, come va il tuo orto?", languageCode: "it", polishTranslation: "Viola, jak tam Tw√≥j ogr√≥dek warzywny?" },
            { emoji: "‚òÄÔ∏è", text: "Ciao bella! Oggi il sole √® tutto tuo!", languageCode: "it", polishTranslation: "Cze≈õƒá piƒôkna! Dzi≈õ s≈Ço≈Ñce jest tylko dla Ciebie!" },
            { emoji: "‚úÇÔ∏è", text: "Viola! Hai trovato tempo per il tuo hobby oggi?", languageCode: "it", polishTranslation: "Viola! Znalaz≈Ça≈õ dzi≈õ czas na swoje hobby?" },
            { emoji: "üåª", text: "Buon pomeriggio! Fiori, t√® i silenzio ‚Äì giornata perfetta.", languageCode: "it", polishTranslation: "Dzie≈Ñ dobry! Kwiaty, herbata i cisza ‚Äì idealny dzie≈Ñ." },
            { emoji: "üßµ", text: "Hey! Dov‚Äô√® il tuo uncinetto oggi?", languageCode: "it", polishTranslation: "Hej! Gdzie dzi≈õ Tw√≥j szyde≈Çko?" },
            { emoji: "üëë", text: "Ciao Viola, regina del giardino!", languageCode: "it", polishTranslation: "Cze≈õƒá Viola, kr√≥lowo ogrodu!" },
            { emoji: "üå∏", text: "Pronta per una passeggiata tra i tuoi fiori?", languageCode: "it", polishTranslation: "Gotowa na spacer w≈õr√≥d Twoich kwiat√≥w?" },
            { emoji: "üå§Ô∏è", text: "Che ne dici di una pausa sotto il sole?", languageCode: "it", polishTranslation: "Co powiesz na przerwƒô w s≈Ço≈Ñcu?" },
            { emoji: "üå±", text: "Ciao carissima! Oggi tutto cresce!", languageCode: "it", polishTranslation: "Cze≈õƒá najdro≈ºsza! Dzi≈õ wszystko ro≈õnie!" },
            { emoji: "üåøü§ó", text: "Un abbraccio verde per te!", languageCode: "it", polishTranslation: "Zielony u≈õcisk dla Ciebie!" },
            { emoji: "üé®", text: "Viola, tempo per il tuo angolo creativo?", languageCode: "it", polishTranslation: "Viola, czas na Tw√≥j kreatywny kƒÖcik?" },
            { emoji: "üå∫", text: "Buond√¨! Hai gi√† annaffiato i gerani?", languageCode: "it", polishTranslation: "Dzie≈Ñ dobry! Podla≈Ça≈õ ju≈º pelargonie?" },
            { emoji: "üõãÔ∏è", text: "Ciao! Una giornata serena ti aspetta", languageCode: "it", polishTranslation: "Cze≈õƒá! Czeka Ciƒô spokojny dzie≈Ñ" },

            // Spanish greetings
            { emoji: "üåû", text: "¬°Hola Viola! ¬øC√≥mo va tu jard√≠n hoy?", languageCode: "es", polishTranslation: "Cze≈õƒá Viola! Jak tam Tw√≥j ogr√≥d dzisiaj?" },
            { emoji: "üëëü™¥", text: "¬°Buenos d√≠as, reina de la huerta!", languageCode: "es", polishTranslation: "Dzie≈Ñ dobry, kr√≥lowo warzywnika!" },
            { emoji: "üß∂", text: "¬°Viola! ¬øYa tejiste algo nuevo?", languageCode: "es", polishTranslation: "Viola! Szyde≈Çkowa≈Ça≈õ ju≈º co≈õ nowego?" },
            { emoji: "üõãÔ∏è", text: "¬°Qu√© d√≠a tan lindo para relajarte!", languageCode: "es", polishTranslation: "Co za piƒôkny dzie≈Ñ na relaks!" },
            { emoji: "üçÖ", text: "¬°Hey! ¬øCrecen bien tus tomates?", languageCode: "es", polishTranslation: "Hej! Twoje pomidory dobrze rosnƒÖ?" },
            { emoji: "‚úÇÔ∏èüåø", text: "¬°Hola, artista de la tierra!", languageCode: "es", polishTranslation: "Cze≈õƒá, artystko ziemi!" },
            { emoji: "üåº", text: "¬°Viola, bienvenida al para√≠so verde!", languageCode: "es", polishTranslation: "Viola, witaj w zielonym raju!" },
            { emoji: "‚òï‚òÄÔ∏è", text: "¬øTomamos un cafecito bajo el sol?", languageCode: "es", polishTranslation: "Napijemy siƒô kawy w s≈Ço≈Ñcu?" },
            { emoji: "üå∏", text: "¬°Buenas! ¬øYa regaste tus flores?", languageCode: "es", polishTranslation: "Dzie≈Ñ dobry! Podla≈Ça≈õ ju≈º swoje kwiaty?" },
            { emoji: "üé®", text: "¬°Viola! Hoy es un d√≠a para ti y tu creatividad", languageCode: "es", polishTranslation: "Viola! Dzi≈õ jest dzie≈Ñ dla Ciebie i Twojej kreatywno≈õci" },
            { emoji: "üß§", text: "¬°Hola! ¬øLista para la tierra?", languageCode: "es", polishTranslation: "Cze≈õƒá! Gotowa na ziemiƒô?" },
            { emoji: "ü§óüåû", text: "¬°Un abrazo soleado para ti!", languageCode: "es", polishTranslation: "S≈Çoneczny u≈õcisk dla Ciebie!" },
            { emoji: "üå∫", text: "¬øC√≥mo est√° tu rinc√≥n favorito?", languageCode: "es", polishTranslation: "Jak tam Tw√≥j ulubiony zakƒÖtek?" },
            { emoji: "üåª", text: "¬°Buenos d√≠as! Tu jard√≠n te espera", languageCode: "es", polishTranslation: "Dzie≈Ñ dobry! Tw√≥j ogr√≥d na Ciebie czeka" },
            { emoji: "üõãÔ∏è", text: "¬°Viola! Hoy rel√°jate y disfruta del sol", languageCode: "es", polishTranslation: "Viola! Dzi≈õ zrelaksuj siƒô i ciesz s≈Ço≈Ñcem" },
            { emoji: "üßµ", text: "¬øY ese bordado? ¬°Seguro que hermoso!", languageCode: "es", polishTranslation: "A ten haft? Na pewno piƒôkny!" },
            { emoji: "üåæ", text: "¬°Hola hola! Tiempo para cosechar", languageCode: "es", polishTranslation: "Cze≈õƒá cze≈õƒá! Czas na zbiory" },
            { emoji: "üåø", text: "¬°Saluditos! Tu jard√≠n huele a primavera.", languageCode: "es", polishTranslation: "Pozdrowienia! Tw√≥j ogr√≥d pachnie wiosnƒÖ." },
            { emoji: "üå±", text: "¬°Qu√© d√≠a perfecto para plantar algo nuevo!", languageCode: "es", polishTranslation: "Co za idealny dzie≈Ñ na posadzenie czego≈õ nowego!" },
            { emoji: "üòäüíê", text: "¬°Viola, una sonrisa con olor a lavanda!", languageCode: "es", polishTranslation: "Viola, u≈õmiech pachnƒÖcy lawendƒÖ!" },

            // English greetings
            { emoji: "üå∏", text: "Hey Viola! How‚Äôs your garden today?", languageCode: "en", polishTranslation: "Hej Viola! Jak tam Tw√≥j ogr√≥d dzisiaj?" },
            { emoji: "‚òÄÔ∏è", text: "Good morning, sunshine!", languageCode: "en", polishTranslation: "Dzie≈Ñ dobry, s≈Çoneczko!" },
            { emoji: "üõãÔ∏è", text: "Viola, ready for some relaxing time?", languageCode: "en", polishTranslation: "Viola, gotowa na trochƒô relaksu?" },
            { emoji: "üß∂", text: "Hello there! Knitting anything fun?", languageCode: "en", polishTranslation: "Witaj! Robisz na drutach co≈õ fajnego?" },
            { emoji: "‚òï", text: "Hi! Tea break in the garden sounds perfect.", languageCode: "en", polishTranslation: "Cze≈õƒá! Przerwa na herbatƒô w ogrodzie brzmi idealnie." },
            { emoji: "üåø", text: "What a great day to be outside!", languageCode: "en", polishTranslation: "Co za wspania≈Çy dzie≈Ñ, ≈ºeby byƒá na zewnƒÖtrz!" },
            { emoji: "ü™¥", text: "Hey! Your plants must love this weather.", languageCode: "en", polishTranslation: "Hej! Twoje ro≈õliny muszƒÖ kochaƒá tƒô pogodƒô." },
            { emoji: "üçÖ", text: "Viola, how‚Äôs the veggie patch doing?", languageCode: "en", polishTranslation: "Viola, jak tam warzywnik?" },
            { emoji: "üåº", text: "Morning vibes and flower smiles!", languageCode: "en", polishTranslation: "Poranne wibracje i u≈õmiechy kwiat√≥w!" },
            { emoji: "üåû", text: "Hello Viola! The sun is calling", languageCode: "en", polishTranslation: "Witaj Viola! S≈Ço≈Ñce wo≈Ça" },
            { emoji: "‚úÇÔ∏è", text: "Time for some stitching magic?", languageCode: "en", polishTranslation: "Czas na trochƒô magicznego szycia?" },
            { emoji: "üå±", text: "Hey you! Another green adventure awaits.", languageCode: "en", polishTranslation: "Hej Ty! Kolejna zielona przygoda czeka." },
            { emoji: "üåª", text: "Waving hello from the flower beds!", languageCode: "en", polishTranslation: "Macham z rabat kwiatowych!" },
            { emoji: "üëë", text: "Rise and shine, Queen of the garden", languageCode: "en", polishTranslation: "Wstawaj i ≈õwieƒá, kr√≥lowo ogrodu" },
            { emoji: "üõãÔ∏è", text: "How about a cozy afternoon on the porch?", languageCode: "en", polishTranslation: "Co powiesz na przytulne popo≈Çudnie na werandzie?" },
            { emoji: "üåæ", text: "Hi Viola! Let's get our hands dirty!", languageCode: "en", polishTranslation: "Cze≈õƒá Viola! Pobrud≈∫my sobie rƒôce!" },
            { emoji: "üå∫", text: "Viola, your blooms must look amazing today", languageCode: "en", polishTranslation: "Viola, Twoje kwiaty muszƒÖ dzi≈õ wyglƒÖdaƒá niesamowicie" },
            { emoji: "üé®üßµ", text: "Feeling crafty today?", languageCode: "en", polishTranslation: "Masz dzi≈õ ochotƒô na rƒôkodzie≈Ço?" },
            { emoji: "üå§Ô∏è", text: "Lovely weather for sowing seeds!", languageCode: "en", polishTranslation: "Urocza pogoda na sianie nasion!" },
            { emoji: "üå∏", text: "Hello friend! Time to relax and create.", languageCode: "en", polishTranslation: "Witaj przyjaci√≥≈Çko! Czas na relaks i tworzenie." },

            // Russian greetings
            { emoji: "üå∑", text: "–ü—Ä–∏–≤–µ—Ç, –í–∏–æ–ª–∞! –ö–∞–∫ –ø–æ–∂–∏–≤–∞–µ—Ç —Ç–≤–æ–π —Å–∞–¥?", languageCode: "ru", polishTranslation: "Cze≈õƒá, Viola! Jak tam Tw√≥j ogr√≥d?" },
            { emoji: "üåû", text: "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –°–µ–≥–æ–¥–Ω—è –∏–¥–µ–∞–ª—å–Ω–∞—è –ø–æ–≥–æ–¥–∞.", languageCode: "ru", polishTranslation: "Dzie≈Ñ dobry! Dzi≈õ idealna pogoda." },
            { emoji: "üõãÔ∏è", text: "–í–∏–æ–ª–∞, –ø–æ—Ä–∞ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å!", languageCode: "ru", polishTranslation: "Viola, czas na odpoczynek!" },
            { emoji: "üß∂", text: "–ü—Ä–∏–≤–µ—Ç–∏–∫–∏! –í—è–∂–µ—à—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–µ–Ω—å–∫–æ–µ?", languageCode: "ru", polishTranslation: "Cze≈õƒá! Robisz na drutach co≈õ nowego?" },
            { emoji: "ü™¥", text: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π, —Ö–æ–∑—è–π–∫–∞ –¥–∞—á–∏!", languageCode: "ru", polishTranslation: "Witaj, gospodyni daczy!" },
            { emoji: "üåº", text: "–í–∏–æ–ª–∞, –ø–æ–ª–∏–≤–∞–ª–∞ —Ü–≤–µ—Ç—ã —Å–µ–≥–æ–¥–Ω—è?", languageCode: "ru", polishTranslation: "Viola, podlewa≈Ça≈õ dzi≈õ kwiaty?" },
            { emoji: "‚òïüåø", text: "–° –¥–æ–±—Ä—ã–º —É—Ç—Ä–æ–º –∏ —á–∞—à–∫–æ–π —á–∞—è", languageCode: "ru", polishTranslation: "Dzie≈Ñ dobry i fili≈ºanka herbaty" },
            { emoji: "üå∏", text: "–ö–∞–∫ –¥–µ–ª–∞ –≤ —Ç–≤–æ–µ–π –æ—Ä–∞–Ω–∂–µ—Ä–µ–µ?", languageCode: "ru", polishTranslation: "Jak tam w Twojej oran≈ºerii?" },
            { emoji: "‚úÇÔ∏è", text: "–í–∏–æ–ª–∞, –¥–µ–Ω—å –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞!", languageCode: "ru", polishTranslation: "Viola, dzie≈Ñ na tw√≥rczo≈õƒá!" },
            { emoji: "üå§Ô∏è", text: "–ü—Ä–∏–≤–µ—Ç! –°–æ–ª–Ω—Ü–µ —É–ª—ã–±–∞–µ—Ç—Å—è —Ç–µ–±–µ", languageCode: "ru", polishTranslation: "Cze≈õƒá! S≈Ço≈Ñce siƒô do Ciebie u≈õmiecha" },
            { emoji: "üçÖ", text: "–í–∏–æ–ª–∞, —Å–æ–±–∏—Ä–∞–µ—à—å —É—Ä–æ–∂–∞–π?", languageCode: "ru", polishTranslation: "Viola, zbierasz plony?" },
            { emoji: "üëëüå∫", text: "–ü—Ä–∏–≤–µ—Ç, –∫–æ—Ä–æ–ª–µ–≤–∞ —Å–∞–¥–∞!", languageCode: "ru", polishTranslation: "Cze≈õƒá, kr√≥lowo ogrodu!" },
            { emoji: "üé®üßµ", text: "–°–µ–≥–æ–¥–Ω—è –æ—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –≤—è–∑–∞–Ω–∏—è", languageCode: "ru", polishTranslation: "Dzi≈õ ≈õwietny dzie≈Ñ na rob√≥tki rƒôczne" },
            { emoji: "üåª", text: "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –¢–≤–æ–∏ —Ü–≤–µ—Ç—ã –ø–∞—Ö–Ω—É—Ç –≤–µ—Å–Ω–æ–π", languageCode: "ru", polishTranslation: "Dzie≈Ñ dobry! Twoje kwiaty pachnƒÖ wiosnƒÖ" },
            { emoji: "üõãÔ∏è", text: "–í–∏–æ–ª–∞, –ø–æ—Ä–∞ –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è —Ç–∏—à–∏–Ω–æ–π", languageCode: "ru", polishTranslation: "Viola, czas na cieszenie siƒô ciszƒÖ" },
            { emoji: "üåº", text: "–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ? –í—Å—ë —Ü–≤–µ—Ç—ë—Ç?", languageCode: "ru", polishTranslation: "Jak nastr√≥j? Wszystko kwitnie?" },
            { emoji: "üå±", text: "–ü—Ä–∏–≤–µ—Ç, —Ç–≤–æ–π –æ–≥–æ—Ä–æ–¥ –∂–¥—ë—Ç —Ç–µ–±—è", languageCode: "ru", polishTranslation: "Cze≈õƒá, Tw√≥j ogr√≥d czeka na Ciebie" },
            { emoji: "‚òÄÔ∏è", text: "–ü—É—Å—Ç—å –¥–µ–Ω—å –±—É–¥–µ—Ç —Ç—ë–ø–ª—ã–º –∏ —Å–æ–ª–Ω–µ—á–Ω—ã–º", languageCode: "ru", polishTranslation: "Niech dzie≈Ñ bƒôdzie ciep≈Çy i s≈Çoneczny" },
            { emoji: "ü§ó", text: "–í–∏–æ–ª–∞, —Å–¥–µ–ª–∞–π –ø–∞—É–∑—É ‚Äì —Ç—ã —ç—Ç–æ –∑–∞—Å–ª—É–∂–∏–ª–∞", languageCode: "ru", polishTranslation: "Viola, zr√≥b sobie przerwƒô ‚Äì zas≈Çu≈ºy≈Ça≈õ na to" },
            { emoji: "üåøüëë", text: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–≤–æ—ë –∑–µ–ª—ë–Ω–æ–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ!", languageCode: "ru", polishTranslation: "Witaj w swoim zielonym kr√≥lestwie!" }
        ];

        const splashBackgrounds = [
            'linear-gradient(135deg, #a8dadc, #457b9d)', // Blue-Cyan
            'linear-gradient(135deg, #f8edeb, #fec89a)', // Peach-Orange
            'linear-gradient(135deg, #e0f7fa, #80deea)', // Light Blue-Turquoise
            'linear-gradient(135deg, #e8f5e9, #a5d6a7)', // Light Green-Green
            'linear-gradient(135deg, #f3e5f5, #ce93d8)', // Light Purple-Purple
            'linear-gradient(135deg, #fff3e0, #ffcc80)', // Light Orange-Deep Orange
            'linear-gradient(135deg, #ffebee, #ef9a9a)', // Light Red-Red
            'linear-gradient(135deg, #f0f4c3, #cddc39)', // Light Lime-Lime
            'linear-gradient(135deg, #D4E2F0, #A7C9ED)', // Soft Blue
            'linear-gradient(135deg, #F0E6D4, #EDC9A7)', // Warm Peach
            'linear-gradient(135deg, #E0F0E2, #A7EDC9)', // Mint Green
            'linear-gradient(135deg, #F0D4E6, #EDC9A7)', // Lavender Pink
            'linear-gradient(135deg, #E2F0D4, #C9EDC9)', // Pale Green
            'linear-gradient(135deg, #D4EAF0, #A7EDC9)', // Sky Blue
        ];

        const categoryColors = {
            "Edukacja": "#E0F7FA", // Light Cyan
            "Rozrywka": "#FFF3E0", // Light Orange
            "Hobby": "#E8F5F5",    // Light Green
            "Poczta": "#E3F2FD",   // Light Blue
            "Zakupy": "#FCE4EC",   // Light Pink
            "Zdrowie": "#F3E5F5",  // Light Purple
            "Finanse": "#FFFDE7",  // Light Yellow
            "Administracja": "#EFEBE9", // Light Brown
            "Filmy i TV": "#FFEBEE", // Lighter Red
            "Dzienniki Szkolne": "#F0F4C3", // Light Lime
            "Narzƒôdzia Online": "#F5F5F5", // Light Grey
            "Jƒôzyk Hiszpa≈Ñski": "#E0F2F7", // Lighter Blue
            "Geografia": "#E6EE9C", // Lime Green
            "Jƒôzyk Polski": "#FFE0B2", // Orange
            "Filozofia": "#D1C4E9", // Purple
            "Podr√≥≈ºe": "#C8E6C9", // Green
            "Rozw√≥j Osobisty": "#B2EBF2", // Cyan
            "Historia": "#FBE9E7", // Peach
        };

        let groupedBookmarks = {};
        let openCategories = [];
        let summaryModalState = {
            isOpen: false,
            title: '',
            summary: '',
            loading: false,
            error: null,
        };

        // Function to get favicon URL
        function getFaviconUrl(url) {
            try {
                if (url && url !== '#') {
                    const domain = new URL(url).hostname;
                    return `https://www.google.com/s2/favicons?domain=${domain}&sz=64`;
                }
                return null;
            } catch (error) {
                console.error("Invalid URL for favicon:", url, error);
                return null;
            }
        }

        /**
         * Selects a random greeting from allGreetingsForHeader.
         * @returns {object} An object containing the formatted greeting text for display,
         * the text to be translated (original foreign phrase), and
         * its Polish translation to be copied.
         */
        function getDynamicGreeting() {
            const randomGreetingIndex = Math.floor(Math.random() * allGreetingsForHeader.length);
            const selectedGreeting = allGreetingsForHeader[randomGreetingIndex];

            // Display only the emoji and the original text of the greeting
            const displayGreetingText = `${selectedGreeting.emoji} ${selectedGreeting.text}`;
            // The original text to send to Google Translate
            const textToTranslate = selectedGreeting.text;
            // The Polish translation to copy to clipboard
            const polishTranslationToCopy = selectedGreeting.polishTranslation;

            return {
                displayGreeting: displayGreetingText,
                textToTranslate: textToTranslate,
                polishTranslationToCopy: polishTranslationToCopy
            };
        }

        // Function to group bookmarks by folder
        function groupBookmarksByFolder(bookmarks) {
            const grouped = {};
            bookmarks.forEach(bookmark => {
                const folderName = bookmark.folder;
                if (!grouped[folderName]) {
                    grouped[folderName] = [];
                }
                grouped[folderName].push(bookmark);
            });
            return grouped;
        }

        // Function to render quick access links
        function renderQuickAccessLinks() {
            const quickAccessSection = document.getElementById('quick-access-section');
            quickAccessSection.innerHTML = ''; // Clear previous content

            quickAccessLinks.forEach((link, index) => {
                const anchor = document.createElement('a');
                anchor.href = link.url;
                anchor.target = "_blank";
                anchor.rel = "noopener noreferrer";
                anchor.className = "quick-access-item";

                if (link.icon) {
                    const iconSpan = document.createElement('span');
                    iconSpan.className = "quick-access-icon";
                    iconSpan.textContent = link.icon;
                    anchor.appendChild(iconSpan);
                } else {
                    const img = document.createElement('img');
                    img.src = getFaviconUrl(link.url) || "https://placehold.co/40x40/cccccc/000000?text=?";
                    img.alt = link.title;
                    img.className = "quick-access-icon";
                    img.onerror = function() { this.onerror=null; this.src="https://placehold.co/40x40/cccccc/000000?text=?"; };
                    anchor.appendChild(img);
                }

                const titleDiv = document.createElement('div');
                titleDiv.className = "quick-access-title";
                titleDiv.textContent = link.title;
                anchor.appendChild(titleDiv);

                quickAccessSection.appendChild(anchor);
            });
        }

        // Function to render bookmark categories
        function renderBookmarkCategories(filteredBookmarks) {
            const categoriesSection = document.getElementById('bookmark-categories-section');
            categoriesSection.innerHTML = ''; // Clear previous content
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput.value.toLowerCase();
            const noResultsMessage = document.getElementById('no-results-message');

            if (Object.keys(filteredBookmarks).length === 0 && searchTerm) {
                noResultsMessage.style.display = 'block';
                noResultsMessage.innerHTML = `Brak wynik√≥w dla "${searchTerm}". <a href="https://www.google.com/search?q=${encodeURIComponent(searchTerm)}" target="_blank" rel="noopener noreferrer">Zapytaj Google :)</a>`;
                return;
            } else {
                noResultsMessage.style.display = 'none';
            }

            for (const folderName in filteredBookmarks) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = `category-section ${openCategories.includes(folderName) ? 'open' : ''}`;
                categoryDiv.style.backgroundColor = categoryColors[folderName] || '#F5F5F5';
                categoryDiv.setAttribute('data-folder', folderName);

                const h2 = document.createElement('h2');
                h2.textContent = `üìÅ ${folderName}`; // Default folder icon
                h2.onclick = () => toggleCategory(folderName);
                categoryDiv.appendChild(h2);

                const ul = document.createElement('ul');
                filteredBookmarks[folderName].forEach(bookmark => {
                    const li = document.createElement('li');
                    if (searchTerm) {
                        li.classList.add('search-result-bounce');
                    }

                    const img = document.createElement('img');
                    img.src = getFaviconUrl(bookmark.url) || "https://placehold.co/24x24/cccccc/000000?text=?";
                    img.alt = bookmark.title;
                    img.className = "category-favicon";
                    img.onerror = function() { this.onerror=null; this.src="https://placehold.co/24x24/cccccc/000000?text=?"; };
                    li.appendChild(img);

                    const contentDiv = document.createElement('div');
                    contentDiv.className = "bookmark-link-content";

                    const anchor = document.createElement('a');
                    anchor.href = bookmark.url;
                    anchor.target = "_blank";
                    anchor.rel = "noopener noreferrer";
                    anchor.textContent = bookmark.title;
                    contentDiv.appendChild(anchor);

                    if (bookmark.description) {
                        const descDiv = document.createElement('div');
                        descDiv.className = "bookmark-description";
                        descDiv.textContent = bookmark.description;
                        contentDiv.appendChild(descDiv);
                    }
                    li.appendChild(contentDiv);

                    const summaryButton = document.createElement('button');
                    summaryButton.className = "summary-button";
                    summaryButton.textContent = "‚ú® Podsumuj";
                    summaryButton.onclick = () => generateBookmarkSummary(bookmark.url, bookmark.title);
                    // Ensure the button is disabled when modal is loading
                    summaryButton.disabled = summaryModalState.loading;
                    li.appendChild(summaryButton);

                    ul.appendChild(li);
                });
                categoryDiv.appendChild(ul);
                categoriesSection.appendChild(categoryDiv);
            }
        }

        // Function to toggle category open/close state
        function toggleCategory(categoryName) {
            const index = openCategories.indexOf(categoryName);
            if (index > -1) {
                openCategories.splice(index, 1); // Remove if open
            } else {
                openCategories.push(categoryName); // Add if closed
            }
            renderBookmarkCategories(groupedBookmarks); // Re-render to apply changes
        }

        // Function to handle search input
        function handleSearch() {
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput.value.toLowerCase();

            const filteredRawBookmarks = allBookmarksData.filter(bookmark => {
                const titleMatch = bookmark.title && bookmark.title.toLowerCase().includes(searchTerm);
                const urlMatch = bookmark.url && bookmark.url.toLowerCase().includes(searchTerm);
                const descriptionMatch = bookmark.description && bookmark.description.toLowerCase().includes(searchTerm);
                return titleMatch || urlMatch || descriptionMatch;
            });

            groupedBookmarks = groupBookmarksByFolder(filteredRawBookmarks);

            if (searchTerm) {
                // Automatically open categories that contain search results
                openCategories = Object.keys(groupedBookmarks).filter(folderName =>
                    groupedBookmarks[folderName].length > 0
                );
            } else {
                // If search term is empty, collapse all categories
                openCategories = [];
            }
            renderBookmarkCategories(groupedBookmarks);
        }

        // Function to generate summary using Gemini API
        async function generateBookmarkSummary(url, title) {
            const modalOverlay = document.getElementById('summary-modal-overlay');
            const modalTitle = document.getElementById('summary-modal-title');
            const modalBody = document.getElementById('summary-modal-body');

            summaryModalState = {
                isOpen: true,
                title: `Streszczenie: ${title}`,
                summary: 'Generowanie streszczenia...',
                loading: true,
                error: null,
            };
            modalOverlay.classList.add('open');
            modalTitle.textContent = summaryModalState.title;
            modalBody.innerHTML = '<p>Generowanie streszczenia...</p>';
            modalBody.classList.add('loading');
            modalBody.classList.remove('error');

            try {
                const prompt = `Podsumuj zawarto≈õƒá strony internetowej pod adresem: ${url}. Streszczenie powinno byƒá zwiƒôz≈Çe i zawieraƒá najwa≈ºniejsze informacje.`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = ""; // Leave as-is, Canvas will provide it at runtime.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`B≈ÇƒÖd API Gemini: ${errorData.error.message || response.statusText}`);
                }

                const result = await response.json();
                let generatedText = 'Nie uda≈Ço siƒô wygenerowaƒá streszczenia.';

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    generatedText = result.candidates[0].content.parts[0].text;
                }

                summaryModalState.summary = generatedText;
                summaryModalState.loading = false;
                modalBody.innerHTML = `<p>${summaryModalState.summary}</p>`;
                modalBody.classList.remove('loading');

            } catch (error) {
                console.error("B≈ÇƒÖd generowania streszczenia:", error);
                summaryModalState.summary = 'WystƒÖpi≈Ç b≈ÇƒÖd podczas generowania streszczenia. Spr√≥buj ponownie p√≥≈∫niej.';
                summaryModalState.loading = false;
                summaryModalState.error = error.message;
                modalBody.innerHTML = `<p>B≈ÇƒÖd: ${summaryModalState.summary}</p>`;
                modalBody.classList.remove('loading');
                modalBody.classList.add('error');
            }
        }

        function closeSummaryModal() {
            const modalOverlay = document.getElementById('summary-modal-overlay');
            modalOverlay.classList.remove('open');
            summaryModalState = {
                isOpen: false,
                title: '',
                summary: '',
                loading: false,
                error: null,
            };
        }

        // Initialize on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', () => {
            const splashScreen = document.getElementById('splash-screen');
            const splashMessageDiv = splashScreen.querySelector('.splash-message');
            const mainContentWrapper = document.getElementById('main-content-wrapper');
            const greetingHeader = document.getElementById('greeting-header');
            const searchInput = document.getElementById('search-input');
            const summaryModalCloseButton = document.getElementById('summary-modal-close-button');

            // Get dynamic greeting data
            const greetingData = getDynamicGreeting();
            // Display only the foreign greeting in the header
            greetingHeader.textContent = greetingData.displayGreeting;

            // Add click listener to the greeting header
            greetingHeader.addEventListener('click', async () => {
                // Open Google Translate with the foreign text
                const translateUrl = `https://translate.google.com/?sl=auto&tl=pl&text=${encodeURIComponent(greetingData.textToTranslate)}`;
                window.open(translateUrl, '_blank');

                // Copy the Polish translation to the clipboard
                try {
                    // Using execCommand for better iframe compatibility
                    const textarea = document.createElement('textarea');
                    textarea.value = greetingData.polishTranslationToCopy;
                    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in MS Edge.
                    textarea.style.left = '-9999px'; // Hide the textarea off-screen
                    document.body.appendChild(textarea);
                    textarea.focus();
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    console.log('Polish translation copied to clipboard:', greetingData.polishTranslationToCopy);
                    // Optionally, provide a visual feedback to the user that text was copied
                    // e.g., a small temporary message on screen
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                }
            });

            // Select a random idiom and display language for splash screen
            const randomIdiomIndex = Math.floor(Math.random() * allGreetingsForHeader.length); // Use allGreetingsForHeader here
            const selectedIdiom = allGreetingsForHeader[randomIdiomIndex]; // Use allGreetingsForHeader here

            // Set a random splash background
            const randomBgIndex = Math.floor(Math.random() * splashBackgrounds.length);
            const currentSplashBackground = splashBackgrounds[randomBgIndex];
            splashScreen.style.background = currentSplashBackground;

            // Populate splash message
            splashMessageDiv.innerHTML = `
                <span class="icon">${selectedIdiom.emoji}</span>
                <span class="original-text">${selectedIdiom.text}</span>
                <span class="translation-text">${selectedIdiom.polishTranslation}</span>
            `;

            const splashDisplayDuration = 3500; // Text visible for 3.5 seconds
            const fadeOutTransitionDuration = 600; // Fade out takes 0.6 seconds

            // Start splash screen animation
            setTimeout(() => {
                splashScreen.classList.add('fade-out'); // Start fade-out of splash
                // After the fade-out transition, completely hide and ensure no pointer events
                setTimeout(() => {
                    splashScreen.style.display = 'none'; // Hide splash completely
                    splashScreen.style.zIndex = '-1'; // Send to back
                    splashScreen.style.pointerEvents = 'none'; // Ensure no interactions
                    mainContentWrapper.classList.add('show'); // Show main content
                }, fadeOutTransitionDuration + 50); // Small additional delay to ensure transition completes
            }, splashDisplayDuration);


            // Dynamically load the weather widget script
            const scriptId = 'weatherwidget-io-js';
            if (!document.getElementById(scriptId)) {
                const script = document.createElement('script');
                script.id = scriptId;
                script.src = 'https://weatherwidget.io/js/widget.min.js';
                script.async = true; // Make it async to not block rendering
                document.body.appendChild(script);
            }

            // Initial render of quick access and bookmarks
            renderQuickAccessLinks();
            groupedBookmarks = groupBookmarksByFolder(allBookmarksData);
            renderBookmarkCategories(groupedBookmarks);

            // Event listener for search input
            searchInput.addEventListener('input', handleSearch);

            // Event listener for modal close button
            summaryModalCloseButton.addEventListener('click', closeSummaryModal);
        });
    </script>
</body>
</html>
